(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{598:function(t,s,a){t.exports=a.p+"assets/img/jmeter_logo.7bb2977b.png"},599:function(t,s,a){t.exports=a.p+"assets/img/perfToolsFunctions1.839e23e2.png"},600:function(t,s,a){t.exports=a.p+"assets/img/perfToolsPerformance.f05de551.png"},601:function(t,s,a){t.exports=a.p+"assets/img/install.179b8452.png"},602:function(t,s,a){t.exports=a.p+"assets/img/qidongUI.3d94df80.png"},603:function(t,s,a){t.exports=a.p+"assets/img/threadGroup.7e2385d5.png"},604:function(t,s,a){t.exports=a.p+"assets/img/img_11.69244095.png"},605:function(t,s,a){t.exports=a.p+"assets/img/img_12.92b75144.png"},606:function(t,s,a){t.exports=a.p+"assets/img/userCustomizeParams.d5020ec4.png"},607:function(t,s,a){t.exports=a.p+"assets/img/csvParams.055f3f85.png"},608:function(t,s,a){t.exports=a.p+"assets/img/beanShellParams.12a9334b.png"},609:function(t,s,a){t.exports=a.p+"assets/img/assertResponse.c0119459.png"},610:function(t,s,a){t.exports=a.p+"assets/img/assertJson.cc6a83ed.png"},611:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfMAAACbCAYAAAB233LIAAAXlUlEQVR4Xu3dz4tkV93H8fwzapz4zAQEdz5k4V+guBBdiiG40kUWZiFkkwElkzRusnEtBLUzIUEIoqIGJ52oRCQT0vMkASGZTKZhfkToMHCfObf63Dr3c7/n163b3XV63g0vqs7Pe+pH9+feW9VVD3X88MMPP/zww0/TPw+99tofu+9+7/Hufy78LwAAaNBDWgEAANpCmAMA0DjCHACAxhHmAAA0jjAHAKBxhDkAAI0jzAEAaNyJhvmbb745qQMAAJshzAEAaBxhDgBA4whzYGGHh3cmdcchtR3XlmovmaOUn6Nmrpq+APJmhfnDl/eP/lh83L3x/Fcn7TEnHeb9Oj9/p3vp0a+P6p+7cmP4Y1d7G1p24dwvuyc+6Lpf3Fh56sVHJ33UY3/476r/27+btMFWE1Tr52Gc9reu61y6nZTa/iq1ppjSfgDKVId5H4T/99vukWf3upuVQVgS5uOgXTvY25n0zYmFuXfhS6927x1er7oNLfv2P9dBTpgvQ5+nKTp2jnCu2GWMrqeEzmGJ9dO5wn6xMQDmqQ5z71jD/P7OgtYfhwcpzMOj8pIQ9wjzescZVH7ukw5IDeUcHatli24TQLkmw3y17bvDH4H9V86N2tcvA9yZfWSu6zh/7oXuys27kzMEfb+Dq93+zfV6dJunfVr/Kxf/1T0THJH3Pr3b/fBnX+vO/eo/43oJeyvMJ/N9+mH3nWB7w5hgO7qms0RDyaJj5grn0nm1HKNrs1hjtK6kLdaudVoGUKe5MHcBvH/werdzFJapdWxyml3XkQzzw/jLAKuwX693taNhr9cy2jFRwbwpk/ANQnYUvEYAa5jbc63DXE/l63x6u2L3W8tKgmnyWBZIjcu1bSo1T9hm9Sup0zKAOtsZ5voHKRHIPmT16Nw5sTCPhKo1f2ye41Z6mt2H98U/vTAq+zAfjuQ//Ef3DRk7BH0Q7jqfdxbCfPI8LaBzqFyfsF37ptq0X07JGGtbsbG5Oi0DqLOdYZ44Mh/6yB8WKxROO8z15YDceo9TLMzNI+1EmE/6B0fd1in7wQPymrsPpZpwioWhNUc4v6dten0JOl9sW9qvtE7LAOo0F+Ya0LGQtfqqEwnzxPZLLHGa3bHC/MIXf9/9pA/k+JG0hrkTC3TzlL1nHMmnjHbYIvfh7v5nyftCd6asszdLbMdz7dZ1qxxr035W2dfFLvW6Gm5LgjUmVra2H+sbq9MygDrNhbm2rwJ5GrLOkmEe204qzFPznzQrzPW0eNgnFeYh/xq56z8cmcsb4h4EVgjmQs5q07LWWdf1Uq+rVFusXeusbWmfsN3TMbGytqXaAcwIc/tIsSzUFwvzIKD9kZWGrJML89jRtjU2tp1UmA/tsobda58U3V9LSoZ54JkP7ybD3DyVfnRkrh9Ko+3heoaj5sRj3YpUmFl1qTarLqwP27Vvqi3Wz2K1a12qHK5V+2nfVF3YlmoHMCPMN7FEmDvhac+Dvd1RIPuA9u0hDWJndCpWQjm1HS8X5kOfYB3W6d7jZoW5E54adwGeO80+CXMjqCfvaDeO1P39rvdnSzRk/PWwzirH6krqre1ZZW2L9bNY7eH2tV3Xpu3KarfqatqBB93WhTkeDNYZi9ZZQVfSpv20rqRd67WsbTnWGK2z6mPjY/1z9bk2ACuEOU6FO+vR8lG5ZZPQSQVprF9qjFVX0ma1a3nJ+tj6U2MATBHmAAA0jjAHAKBxhDkAAI0jzAEAaBxhDgBA4whzAAAaVx3m+glwNf9eRJgDALC8qjB3n9p1UPB55TGEOQAAy6sKc0vJx5l6hDkAAMsjzAEAaNxGYe5Ps5d+cQhhDgDA8maH+fDtZJlvOAsR5gAALG9WmM8JcocwBwBgedVhPjfIHcIcAIDlVYX5EOSFb3hThDkAAMurCnP9wJhBYbgT5gAALK8qzDdFmAMAsDzCHACAxhHmAAA0jjAHAKBxhDkAAI0jzAEAaBxhDgBA4whzAAAaR5gDANA4whzAItynQWpdqbljrXFWXarNqivlx9bMsUlfLefU9ke7qsPcf4f5+uNcP+7eeP6rk36Wkw7z/uNnP3+ne0k+ava5KzdmrR9t+fLzP+4+uvd095e3nupu33uy+03BRw4v4cX3d7o77z/R/fnWc91Hf39s0n4WLREapXNov1w512bVlQrHls5T2i/W16qzlPbD2VAV5qsgvzoKx0ee3etuFgZiSZiPg3btYG9n0jcnFube6vZcL1r7cdnd/6y/ffuvnEvWod4qzJ/sfr3zo/7yJMPchbi/1PazQn9HU+aOi42vKZfUK+0TE+ur84X9YmOU76fzWHRcjm4L7asKc4v/JrWSsC0O8xlfrzrHtoT5wcH14TaHZz4I882cP//97t8+zG893l06oTD/+VsXhzB/59Wz+xiWhoL203KO1d+qy9WrWH+t03E5OlbLFl2DNbZUblyuHW3aOMxX36S28JF5JsxXZwPWp/o19Ebf7jbzyFzXEdtp6fsdXO323VfDRraZOq3fh/kbfxvOePRrv/ZuH+jh7dJvrNPbrPeJrmG6jjvm/ezPCvSMb8MbvcxyfxtX+ts/7jd8VW5iHrTPPbZaZyntVyM2Z2m9f25qv1hf7VPSFmvXOi37urDely2xsSk6Bu2bFeajUDACIWaJMHdhsh+EQ+o0/yan2XUdyTA/jL8MsAr79Xp156cP8/tj3aULaHd57eXLozDX2+GD27dr2dH7qV+H3Bdu3nDdrs/kdL88FmHdsAMRbMe6n/oxFYE+2ekIJZ4brVjtMNnP2ZZMHpsEHVs6Xsfo+FQ51ablVJuWY21Wv5K6WFnrS+XG5drRpllhHtJwSikO80P5pU4Esg8PPVJ1NATVYmEeCSprfp3Hh3m/1oPr3c3767388Oro192m2O2bhmr6MUitM2a1pvUY6/ZoUOsYp2R9D5KzFOZaZ1m6X6y/llNtYTnV5svK6qvjSuu0bNXr9q21lPSNjUH7Ng5zxzqCsxSHeWYuK/A1ZJ3TDvPJqW9jvT7M/enr8LoL8Ol/DwSO1jc5rW3c5slajPvY3JaeEbBeQtAzALrOXvvhhTH3uGqdZel+1pjc2OnzMR6oqTYtx67X1Gk5V5+TG5drR5uaC3MN6FjIWn3ViYR5YvuOD/Owbhrm9hotYWjrvN46cNcBa90+vf+s26O3X++3OeI7BHc2nvss0J0u63Ee3YeR52DV+yOM7UwemwTdth+fKpcqGad9UuVUm5b9de2j7ak6LVv17nqMNS5Hx6B9VWHe/3GXP6b+jVl6GtiyRJhre3hEq301jFQqKEu3o2FWOr+XC/PYafac1LocDW9rrf0cwf1n9Sk5zY6zqTQUYv20XgNH2y2+T66vtms51ZYq57Zv3Rbtq2WrvqRPTEkftK8qzB0f3mvlp08XC/MgYPwRiAaikwtzDbTU2Nh2cqGp63V2r30y3Ge5MB/WIvezm3fUbpxFCOvcdsIdAn3TnO6sDEdluvbJa/X2G+B0Ryh8M95p+8IrP+1u33u6++vO6v50/0o2fKjM+W/2H/Zy+9YPVv/KdlS+88G3+r6rf3e7NPz/+GquS1X/guafS7U7aNumNCRi/bReyznaX8upNi2n2mrK/rq71H7aN1Wn9SV9UvW5MtpXHeabWCLMnfD04MHe7iiQJ68fBzQ0ndFryRI4qe14uTAf+gTr0HeM65wa5o7uROkYbbfuw9FpVVmHM7ov7of47uX3JmE+OvX6eeG/piV2qE7DdoR5+U7wtnKPrdZZYv20Xsspsb6l9VpOtfmyfz7H2qyxymq36rS+pE9YjtXn6tCurQtztKVk5wtr1pmLVvlwK2GNDS/1ekqun9Wu67H6xMZrOVZfO29Nva49djt8Weu1Xa+jfYQ5qrgzAHpqXo/wEWe976BVpWGg/axyTthP57doXx2nZWtMrN9S9db2tN26XtrHz690DpwNhDmqjV9+mL50AQA4WYQ5AACNI8wBAGgcYQ4AQOMIcwAAGkeYAwDQOMIcAIDGbRTm/l+USv/PmDAHAGB5s8N89YUa10ef751DmAMAsLxZYT58itWll6s+AYwwBwBgebPC3H85SO3HeRLmAAAsrzrMw++rJswBADh9VWGuXxJBmAMAcPqqwnzyndmhgq90JMwBAFheVZgrjswBADh9hDkAAI0jzAEAaNxGYV6LMAcAYHmEOQAAjSPMAQBoHGEOAEDjCHMAABpHmAMA0DjCHACAxhHmAAA0jjAHAKBxhDmwIfdFQ1p3HFLb8V94pPWqpE/MaY0FkFcV5ufPvdBduXl38o1p2/pxrv23vH3+TvfSo18f1T935Uaw/o+Hr3QF5qgJKv3dsWh/67rOpdtJqemf2r7S21EzFsBmZoV5aXirkjAfB+3awd7OpG9OLMw9/X72s+zCuV92T3zQdb+40XVPvfjopB1l9HmZomPnCOeKXcboekpYc1jXLdpeMxbAZrYzzAu+G30JD1SYf/H33U9uEObH4TiDys9tBe5xbtfTsFfa17pMzaPbAzDPrDAPfxlrjpiXCvNHnt3rbh6u16E7F/0RuV/jzCNzXYe/7Xp7+34HV7v98H6RbZ72af2vXPxX98xRkA8+/bD7zv22x/7w31X57d913/7nOuz99Yt/emGYx6oL68N5dQ1niQaSRcfMFc6l82o5Rtdm0THW/FpWvj12afUFsIz6MN97aSj7r0DVgItZIszdNvcPXu92jsJyFex2QG5yml3XkQzzw/hOzSrs1+td7WjY67WMdkxUMG9KUZh/eHfoUxrm4al7a27rdsTup5aVBNPksSuQGpdr25Q1j1Vntev6rLFaBrCZqjC35AIzVBzm+gcqMX/q1H9ubYuFeSRUrflj8xy32Gn2Icw/vdv98GdfG+o1uK26c7/6z9GOwD+6b0gfPZV/FsJ88rwsoHOoXJ+wXfum2rRfjo6x5Pr5dr3U61YZwGY2DvP+yDgRmKHiME8cmQ995I+RFRKnHeb6ckBuvccpG+ZBIDsa3FbdMNagp+LPKiu4cmIhZ80Rzu9pm17flD5XS/hx1qVet8oANrNxmPeBGQkztUSYa0DHQtbqq04kzBPbL7HEaXYnG+Zv/27UX4Pbqhu9Vq5kvpzd/c+St8u/pOP76OPg6M6TdbZmtCNoPDYl2/Fcu3XdKsfatJ9V9nWxS72uhtuboGOUtU2lfbRvrB7A5qrC3AVL+MftNF4z1/bUGpYM89h2UmGemv+k1Ya5HrGH4ydH5nJU/yCwQrAkrLRNy1pnXddLva5SbSXtYZ9UX+2jfWP1yrXn+gAYqwpzZ3QEdZg+clGLhXkQ0P5Iy1pHLsxjR9vW2Nh2UmE+tMsadq99cuIBP3mzmr4BTsJ8eD3cMLwBLgj4EeMNcMNRc+KxbUUqlKy6VJtVF9aH7do31RbrZ6lt17JKtafawj4l/QCsVYf5JpYIcyfcoTjY2x0FsvXvc+u+09AenZqVUE5tx8uF+dAnWId1+vckjN7VnglzJzyN7gJcT7M7k50ExzhS9/ez3n8t0ZDx18M6qxyrK6m3tmeVtS3Wz5Jqj7Xl6q32VJsq6QNgbevCHGeTdYaidS5wYqGTatN+WlfSrvVa1rYcHZObM9Ye1sWuW+XSNgA2whwnwp3laPmo3LJJ6OSC1OqXGmPVlbRZ7bFtWMK+1pjUXFa9VQcgjzAHAKBxhDkAAI0jzAEAaBxhDgBA4whzAAAaR5gDANA4whwAgMbNCnP98o/STzQjzAEAWF51mK+C/OPRZ4v/9tq7RZ/sRZgDALC8qjBPfTFJCcIcAIDlVYX56ssyxkflNQhzAACWVxXm/mtBdy+/N3rNvPRInTAHAGB59WHuAjz4ilL/1ZYlb4IjzAEAWF5VmPfBbXyNZcl3kDuEOQAAy6sK8wtferV77/DqJMzd11sS5gAAnI6qMHc0uDnNDgDA6aoOc6cPdN4ABwDAVpgV5nMR5gAALI8wBwCgcYQ5AACNI8wBAGgcYQ4AQOMIcwAAGkeYAwDQOMIcAIDGEeYAFuE+QErrSs0da42z6lJtVl3OnDFzxmpfLefU9ke7qsJ8+NY0yxZ+Nrv/ylb9LPn+i2GGtc//fnZsty8//+Puo3tPd39566nu9r0nu9/I8+C4vPj+Tnfn/Se6P996rvvo749N2s+iJUKjdA7tlyvn2qw6S9gvN2by97FirM5TUmcp7YezoSrMLasvX1nus9nHQVv/kbGhWJh7q7VfP9Uw9x+NG95/Vh3qrcL8ye7XOz/qL08yzF2I+0ttPyv0dzRl7rjY+JpySb3SPjo+1ifWXjNW++naLDouR7eF9m0c5n34Hrze7RT8oSwO84Kj/CVsS5gfHFwfbrPfOXK/cIT5Zs6f/373bx/mtx7vLhU8R5fw87cuDmH+zqtn9zEsDQXtp+Ucq79Vl6tXsf5WXWwOnU/n0MvUPNb2tK5EblyuHW3aKMxrjsqdpcLcf1Ob/yXQ7Y9eDph5ZK7rOH/uhe7KzbuTMwSrnZmr3f7N9Xp0m6nT+n2Yv/G34atl+7Vfe3dyv+pLHHqb9T7RNUzXcce8n0dfomPspIU7G24bV4ydOX9fpeZB+9xjq3WW0n41YnOW1vvnpvaz+lp1Wla+PXZp9dW6sN6XLbGxKToG7dsozPtwMEIjZokwd2GyH4TDKsTs1703Oc2u60iG+WH8ZQA9c7EK5fV6+zC/P9ZduoB2l9devjwKc70d+rWzWnb0frIeKzdvuG7XZ3K6Xx6LsG7YgQi2Y91P/ZiKQJ/sdIQSz41WrHaY7OdsSyaPTYKOLR2vY3R8qpxq03KqTcuxOqs9vNQ67atlrS+VG5drR5tmh7n1RzunOMyPnviDRCD7deiRqqMhqBYL80hQWfPrPD7M+7UeXO9u3l/v5YfXZzxit28aqulwSK0zZrWm9Rjr9mhQ6xinZH0PkrMU5lpnWbpfrL+WU21hOdUWk+vj2/VSr1tlq95dj7HG5egYtG92mOeC0lIc5pmjLyvwNWSd3BqtcBptY8Mwn5z6Ntbrw9yfvg6vuwAfndZWR+ubnNY2bvNkLcZ9bG5LzwhYLyHoGQBdZ6/98MKYe1y1zrJ0P2tMbuz0+RgPVL1ey1qXzhnbdkl9Tm5crh1tmhXmQ3gYgZCyRJhrQMdC1uqrTiTME9t3fJiHddMwt9doCUNb5/XWgbsOWOv26f1n3R69/Xq/zRHfIbiz8dwtqHrfQuRxHt2HkefgptuZPDYJum0/PlUuVTJO+6TK2qZ8e6qf9tG+sXqrj78eY43L0TE6Vuux/WaFub7uW2qJMNf28IhW+2oYqVRQlm5Hw6x0fi8X5rHT7DmpdTka3tZa+zmC+8/qU3KaHWdT6R/9WD+t18DRdovvk+ur7VoubQvbU/20j/aN1Vt99HqsT0xJH+1XOgbbozrM5x6VO4uFeRAw/ghEA9HJhbkGWmpsbDu50NT1OrvXPhkCMRfmw1pk58nNO2o3ziKEdW474Q6BvmlOd1aGozJd++S1evsNcLojFL4Z77R94ZWfdrfvPd39dWd1f7p/JRs+VOb8N/sPe7l96werf2U7Kt/54Ft939W/u10a/n98Ndelqn9B88+l2h20bVP6Bz/WT+u1nKP9tZxq0/LcNi2rVHuqTdtjfUvrc2Wts9qx3arDfBNLhLkTnh482NsdBfLk9eOAhqYzei1ZAie1HS8X5kOfYB36jnGdU8PcWQV6/LZou3Ufjk6ryjqc0X1xP8R3L783CfPRqdfPC/81LbFDdRq2I8zrz2xtG/fYap0l1k/rtZwS61tar+WStrn1VnuqTfvo9VifsByrL6mz6rH9ti7M0ZaSnS+sWWcuWuX/8JewxoaXej0l189q1/VYfXLjtS7XHrtt2lfLVr2uPXY7fFnrtV2vo32EOaq4MwB6al6P8BFnve+gVaVhoP2sck7YT+e3aF8dp2VrTKwuRteaaldWfWr9Vr328dtTOgfOBsIc1cYvP0xfugAAnCzCHACAxhHmAAA07kTDHAAALI8wBwCgcYQ5AACNI8wBAGgcYQ4AQOMIcwAAGvfQa6/9sfvu9x6fNAAAgDY81PHDDz/88MMPP03//D/khwZpcETd5AAAAABJRU5ErkJggg=="},612:function(t,s,a){t.exports=a.p+"assets/img/assertBeanShell1.030c615c.png"},613:function(t,s,a){t.exports=a.p+"assets/img/JDBCConnectionConfiguration.43bb0998.png"},614:function(t,s,a){t.exports=a.p+"assets/img/jdbcRequest1.1dbe76ad.png"},615:function(t,s,a){t.exports=a.p+"assets/img/jdbcRequest2.png.9d6399a9.png"},616:function(t,s,a){t.exports=a.p+"assets/img/shiwu.38e5bed4.png"},617:function(t,s,a){t.exports=a.p+"assets/img/img_1.628976eb.png"},618:function(t,s,a){t.exports=a.p+"assets/img/img_2.7cdd14b4.png"},619:function(t,s,a){t.exports=a.p+"assets/img/img_3.bee000be.png"},620:function(t,s,a){t.exports=a.p+"assets/img/img_4.87395337.png"},621:function(t,s,a){t.exports=a.p+"assets/img/img_5.279080a9.png"},622:function(t,s,a){t.exports=a.p+"assets/img/img_6.c49688b5.png"},899:function(t,s,a){"use strict";a.r(s);var e=a(23),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("img",{attrs:{src:a(598),alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("不依赖工具，但要重视工具。压测工具是压测理论的产物，学习好工具，可以帮助更加理解性能测试的基础知识。")])]),t._v(" "),e("p",[t._v("性能测试，简而言之，就是模拟大量用户同时访问，测试服务是否满足性能要求。")]),t._v(" "),e("blockquote",[e("p",[t._v("示例脚本见：链接: https://pan.baidu.com/s/17naPnSvQXj5NIDu9HEFO0A  密码: sb4e")])]),t._v(" "),e("h2",{attrs:{id:"_1、选择合适的工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、选择合适的工具"}},[t._v("#")]),t._v(" 1、选择合适的工具")]),t._v(" "),e("p",[t._v("选择工具之前，首先了解一下，我们平常做性能测试，对性能工具的需求有哪些：")]),t._v(" "),e("ul",[e("li",[t._v("经常测试的对象：Http(s)协议、"),e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2017/05/websocket.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebSocket"),e("OutboundLink")],1),t._v(" (网络通信协议)、TCP/IP(测试Mysql、Redis)")]),t._v(" "),e("li",[t._v("扩展性好：支持分布式部署")]),t._v(" "),e("li",[t._v("使用成本低：文档多、支持UI界面操作、插件全")])]),t._v(" "),e("p",[t._v("下面，我们从工具功能和性能两个角度，来横向对比。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(599),alt:"性能测试工具功能对比"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(600),alt:"性能测试工具性能对比"}})]),t._v(" "),e("p",[t._v("综上，考虑到免费、开源、支持多协议、分布式扩展、脚本开发方式、平台支持和性能表现，选择Jmeter作为我们主要的性能测试工具。")]),t._v(" "),e("h2",{attrs:{id:"_2、了解jmeter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、了解jmeter"}},[t._v("#")]),t._v(" 2、了解Jmeter")]),t._v(" "),e("h3",{attrs:{id:"_1-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装"}},[t._v("#")]),t._v(" （1）安装")]),t._v(" "),e("ul",[e("li",[t._v("Jdk安装")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://jmeter.apache.org/download_jmeter.cgi",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jmeter.zip下载"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("解压后，运行Jmeter.bat或Jmeter.sh即可")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(601),alt:"安装"}})]),t._v(" "),e("ul",[e("li",[t._v("启动后界面")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(602),alt:"启动后界面"}})]),t._v(" "),e("p",[t._v("这里的线程组，可以理解为一个用户模型。")]),t._v(" "),e("h3",{attrs:{id:"_2-线程组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-线程组"}},[t._v("#")]),t._v(" （2）线程组")]),t._v(" "),e("p",[t._v("线程组可以理解为用户模型。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(603),alt:"线程组"}})]),t._v(" "),e("p",[t._v("线程组控制面板包括：")]),t._v(" "),e("ul",[e("li",[t._v("线程组名称")]),t._v(" "),e("li",[t._v("线程数（正在测试的用户数）")]),t._v(" "),e("li",[t._v("加速(Ramp-up)时间：从0增加到线程数的时间")]),t._v(" "),e("li",[t._v("循环计数：循环测试的次数")]),t._v(" "),e("li",[t._v("调度器：\n"),e("ul",[e("li",[t._v("持续时间：表示脚本持续运行的时间，以秒为单位，比如如果你要让用户持续不断登录1个小时，你可以在文本框中填写3600。这样就会在1小时内循环执行。")]),t._v(" "),e("li",[t._v("启动延迟：表示脚本延迟启动的时间，在点击启动后，如果启动时间已经到达，但是还没有到启动延迟的时间，那么，启动延迟将会覆盖启动时间，等到启动延迟的时间到达后，再运行系统。")])])])]),t._v(" "),e("h3",{attrs:{id:"_3-测试http服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-测试http服务"}},[t._v("#")]),t._v(" （3）测试Http服务")]),t._v(" "),e("p",[t._v("下面以开发一个Http脚本为例，来熟悉性能测试中常用的功能和插件。")]),t._v(" "),e("h4",{attrs:{id:"a-http脚本开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-http脚本开发"}},[t._v("#")]),t._v(" A. http脚本开发")]),t._v(" "),e("p",[t._v("如图中所示，界面中一目了然，协议、域名、Method、Url、参数分别填到对应位置即可。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(604),alt:"HTTP请求"}})]),t._v(" "),e("p",[t._v("如果请求需要header，可以添加Http信息头管理器，添加header信息。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(605),alt:"HTTP请求头"}})]),t._v(" "),e("h4",{attrs:{id:"b-参数化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#b-参数化"}},[t._v("#")]),t._v(" B. 参数化")]),t._v(" "),e("p",[t._v("总所周知，性能测试接口必须进行参数化，如果是固定数据，可能导致所有请求全部访问了缓存，这样就无法评估服务真实性能。")]),t._v(" "),e("p",[t._v("Jmeter参数化有3种常用方法，用户自定义变量、csv数据文件设置、BeanShell预处理变量。")]),t._v(" "),e("h5",{attrs:{id:"用户自定义变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户自定义变量"}},[t._v("#")]),t._v(" 用户自定义变量")]),t._v(" "),e("p",[t._v("可以设置一些常量变量。\n"),e("img",{attrs:{src:a(606),alt:"用户自定义变量"}})]),t._v(" "),e("h5",{attrs:{id:"csv数据文件设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csv数据文件设置"}},[t._v("#")]),t._v(" csv数据文件设置")]),t._v(" "),e("p",[t._v("可设置参数化数量较多常量。\n"),e("img",{attrs:{src:a(607),alt:"csv数据文件设置"}})]),t._v(" "),e("h5",{attrs:{id:"beanshell预处理变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#beanshell预处理变量"}},[t._v("#")]),t._v(" BeanShell预处理变量")]),t._v(" "),e("p",[t._v("当有些变量需要加解密处理时，就需要BeanShell预处理。")]),t._v(" "),e("p",[t._v('注意：Jmeter通过vars.put("变量名", "变量值")来声明Jmeter变量。')]),t._v(" "),e("p",[e("img",{attrs:{src:a(608),alt:"BeanShell预处理变量"}})]),t._v(" "),e("div",{staticClass:"language-Java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commons"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Base64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// base64加密")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" source "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"哈利波特"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" encodedBytes "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Base64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeBase64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBytes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" encoded "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encodedBytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \nvars"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b64"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoded"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("h4",{attrs:{id:"c-断言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-断言"}},[t._v("#")]),t._v(" C. 断言")]),t._v(" "),e("p",[t._v("断言是用于检查Http 请求Response是否满足预期的手段。")]),t._v(" "),e("p",[t._v("Jmeter常用的断言方法有3种：响应断言、Json断言、Beanshell断言。")]),t._v(" "),e("h5",{attrs:{id:"响应断言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应断言"}},[t._v("#")]),t._v(" 响应断言")]),t._v(" "),e("p",[t._v("如图所示，可以直接判断Response body中是否包含期望字符串，方式有包含、匹配、相等...")]),t._v(" "),e("p",[e("img",{attrs:{src:a(609),alt:"响应断言"}})]),t._v(" "),e("h5",{attrs:{id:"json断言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#json断言"}},[t._v("#")]),t._v(" JSON断言")]),t._v(" "),e("p",[t._v("当Response Body为Json格式时，可以通过Json断言插件，精确断言响应内容。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(610),alt:"JSON断言"}})]),t._v(" "),e("h5",{attrs:{id:"beanshell断言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#beanshell断言"}},[t._v("#")]),t._v(" BeanShell断言")]),t._v(" "),e("blockquote",[e("p",[t._v("参考："),e("a",{attrs:{href:"https://www.jianshu.com/p/39baf70137b9",target:"_blank",rel:"noopener noreferrer"}},[t._v("JMeter中使用BeanShell断言详解"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("BeanShell是jmeter的解释型脚本语言，和java语法大同小异，并有自己的内置对象和方法可供使用。")]),t._v(" "),e("p",[t._v("vars:操作jmeter的变量：vars.get(String parmStr) 获取jmeter的变量值；vars.put(String key,String value) 把数据存到Jmeter变量中；")]),t._v(" "),e("p",[t._v("prev:获取sample返回的信息，prev.getResponseDataAsString() 获取响应信息；prev.getResponseCode() 获取响应状态码；")]),t._v(" "),e("p",[e("img",{attrs:{src:a(611),alt:"BeanShell断言关键词"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(612),alt:"BeanShell断言示例"}})]),t._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" response "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prev"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResponseDataAsString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取响应数据")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSONObject")]),t._v(" responseJson "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSONObject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//转为JSON对象")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//从Json中提取值")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" code "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" responseJson"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInt")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" responseJson"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"result"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \nlog"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===================================="')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlog"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"响应code字段："')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlog"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"响应result字段："')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlog"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===================================="')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" exceptCode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断并断言")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" exceptCode"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Failure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Failure")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FailureMessage")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"响应code字段: 期望值："')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" exceptCode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"，实际值: "')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br")])]),e("h3",{attrs:{id:"_4-测试mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-测试mysql"}},[t._v("#")]),t._v(" （4）测试Mysql")]),t._v(" "),e("blockquote",[e("p",[t._v("参考："),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/121747788",target:"_blank",rel:"noopener noreferrer"}},[t._v("JMeter进行MySQL接口性能测试实战：数据库服务器测试"),e("OutboundLink")],1)])]),t._v(" "),e("h4",{attrs:{id:"配置mysql连接-jdbc-connection-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置mysql连接-jdbc-connection-configuration"}},[t._v("#")]),t._v(" 配置mysql连接（JDBC Connection Configuration）")]),t._v(" "),e("p",[e("img",{attrs:{src:a(613),alt:"img_1.png"}})]),t._v(" "),e("p",[t._v("需要设置一些重要的字段，这些字段将决定数据库和JMeter之间的正确连接。 这些字段包括：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("上半部分：")]),t._v(" "),e("ul",[e("li",[t._v("ariables Name for created pool：变量名，在JDBC Request的时候会用同样的名字确定是连接的那个库和进行的配置")]),t._v(" "),e("li",[t._v("MaxNumber of Connection：数据库最大链接数，通常该值设置为0")]),t._v(" "),e("li",[t._v("Max wait：最大的等待时间 ms毫秒，超出后会抛一个错误")]),t._v(" "),e("li",[t._v("Time Between Eviction Runs (ms)：数据库空闲连接的回收时间间隔")]),t._v(" "),e("li",[t._v("Auto Commit：自动提交。有三个选项，true、false、编辑，选择true后， 每条sql语句就是一个事务，执行结束后会自动提交；false、编辑则不会提交，需要自己手动提交")]),t._v(" "),e("li",[t._v("Transaction Isolation： 数据库事务隔离的级别设置\n"),e("ul",[e("li",[t._v("TRANSACTION_NONE：不支持的事务")]),t._v(" "),e("li",[t._v("TRANSACTION_READ_UNCOMMITTED ：事务读取未提交内容")]),t._v(" "),e("li",[t._v("TRANSACTION_READ_COMMITTED： 事务读取已提交读内容")]),t._v(" "),e("li",[t._v("TRANSACTION_SERIALIZABLE： 事务序列化（一个事务读时，其他事务只能读，不能写）")]),t._v(" "),e("li",[t._v("DEFAULT：默认")]),t._v(" "),e("li",[t._v("TRANSACTION_REPEATABLE_READ ：事务重复读（一个事务修改数据对另一个事务不会造成影响）")])])])])]),t._v(" "),e("li",[e("p",[t._v("下半部分：")]),t._v(" "),e("ul",[e("li",[t._v("绑定到池的变量名称 - 它唯一地标识配置。 JDBC Sampler将进一步使用此名称来标识要使用的配置。这里将其命名为test。")]),t._v(" "),e("li",[t._v("数据库URL：jdbc:mysql://127.0.0.1:3306/AutoTest?useSSL=true")]),t._v(" "),e("li",[t._v("JDBC驱动程序类 - com.mysql.jdbc.Driver。")]),t._v(" "),e("li",[t._v("用户名 - root。")]),t._v(" "),e("li",[t._v("密码 - root用户的密码。")]),t._v(" "),e("li",[t._v("其他字段保持不变。")])])])]),t._v(" "),e("h4",{attrs:{id:"jdbc-request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-request"}},[t._v("#")]),t._v(" JDBC Request")]),t._v(" "),e("p",[e("img",{attrs:{src:a(614),alt:"JDBC Request: 可直接输入SQL"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(615),alt:"查看结果树: 检查Sql语言执行结果"}})]),t._v(" "),e("h3",{attrs:{id:"_5-事务定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-事务定义"}},[t._v("#")]),t._v(" （5）事务定义")]),t._v(" "),e("p",[t._v("将多个接口定义为事务，以便"),e("strong",[t._v("从业务的角度，来评估性能。")])]),t._v(" "),e("p",[t._v("比如，完整的手机验证码登录流程，一般包含：（1）获取手机验证码；（2）用手机号和验证码进行登录；")]),t._v(" "),e("p",[t._v("当定义为登录事务时，性能测试的时候，我们就可以更宏观的关注服务端对登录事务的性能评估，而不是只关注到接口层。\n"),e("img",{attrs:{src:a(616),alt:"事务控制器"}})]),t._v(" "),e("h3",{attrs:{id:"_6-逻辑控制器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-逻辑控制器"}},[t._v("#")]),t._v(" （6）逻辑控制器")]),t._v(" "),e("p",[t._v("当面对复杂业务时，比如涉及到逻辑判断的，就需要添加逻辑控制器。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(617),alt:"逻辑控制器"}})]),t._v(" "),e("p",[t._v("比如，if控制器：")]),t._v(" "),e("blockquote",[e("p",[t._v("参考："),e("a",{attrs:{href:"https://blog.csdn.net/haiou24/article/details/83545442",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jmeter中if控制器的使用"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("利用接口1的返回信息，进行逻辑判断，决定是否执行接口2。比如根据用户状态信息，判断用户是否是VIP用户，如果不是，则不能购买某商品。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(618),alt:"if控制器"}})]),t._v(" "),e("h3",{attrs:{id:"_7-调试插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-调试插件"}},[t._v("#")]),t._v(" （7）调试插件")]),t._v(" "),e("h4",{attrs:{id:"查看结果树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看结果树"}},[t._v("#")]),t._v(" 查看结果树")]),t._v(" "),e("p",[t._v("调试脚本时，可以利用"),e("code",[t._v("查看结果树")]),t._v("插件来查看request和response信息，保障脚本的正确。\n"),e("img",{attrs:{src:a(619),alt:"查看结果树"}})]),t._v(" "),e("h4",{attrs:{id:"jmeter执行log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jmeter执行log"}},[t._v("#")]),t._v(" Jmeter执行Log")]),t._v(" "),e("p",[t._v("一般是编写BeanShell或引入jar包时，脚本调试需要看log，定位脚本开发的问题。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(620),alt:"Jmeter执行log"}})]),t._v(" "),e("h3",{attrs:{id:"_8-关注的性能指标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-关注的性能指标"}},[t._v("#")]),t._v(" （8）关注的性能指标")]),t._v(" "),e("ul",[e("li",[t._v("QPS(TPS)：每秒请求数")]),t._v(" "),e("li",[t._v("成功率：请求成功率")]),t._v(" "),e("li",[t._v("95%响应时间：")]),t._v(" "),e("li",[t._v("99%响应时间：")]),t._v(" "),e("li",[t._v("响应时间和QPS变化曲线：主要看性能测试期间，服务是否稳定。比如Java后端，在性能测试期间，不允许出现Full GC。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(621),alt:"Response Time"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(622),alt:"Transactions per Second"}})]),t._v(" "),e("h2",{attrs:{id:"_3、jmeter优化建议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、jmeter优化建议"}},[t._v("#")]),t._v(" 3、Jmeter优化建议")]),t._v(" "),e("blockquote",[e("p",[t._v("参考："),e("a",{attrs:{href:"https://blog.csdn.net/minxihou/article/details/96720120",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jmeter性能调优建议"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"_1-调整jmeter堆栈内存大小"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-调整jmeter堆栈内存大小"}},[t._v("#")]),t._v(" （1）调整JMeter堆栈内存大小")]),t._v(" "),e("p",[t._v("在默认情况下现在JMeter5版本开辟的内存空间为1G，这也是它的最大内存。在实际测试的过程中，默认JMeter内存配置情况下，开启3W个线程来处理http的静态访问求基本上就达到了极限。再往上加的可能会报OOM的错误。")]),t._v(" "),e("p",[t._v("有两个JAVA的参数直接影响着JMeter能够使用的系统内存为多少，一个是“Xms”（代表初始化堆栈内存的大小），一个是“Xmx（代表最大内存池可以分配的大小）”。如果你的测试机器只跑JMeter一个JAVA应用程序，那么建议Xmx和Xms保持一致。Xmx和Xms保持一致是为了减少JVM内存伸缩，减少维护伸缩带来的成本。")]),t._v(" "),e("h3",{attrs:{id:"_2-64位操作系统内存配置大小"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-64位操作系统内存配置大小"}},[t._v("#")]),t._v(" （2）64位操作系统内存配置大小")]),t._v(" "),e("p",[t._v("JMeter内存分配尽量在32位的系统上避免分配4G以上空间，在64位的操作系统尽量避免分配32G以上的空间。")]),t._v(" "),e("h3",{attrs:{id:"_3-垃圾回收机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-垃圾回收机制"}},[t._v("#")]),t._v(" （3）垃圾回收机制")]),t._v(" "),e("p",[t._v("参考："),e("a",{attrs:{href:"https://static.app.yinxiang.com/embedded-web/profile/#/join?guid=9281a89c-19d9-43e4-90a3-6326deb6bdcb&channel=copylink&shardId=s70&ownerId=14616526",target:"_blank",rel:"noopener noreferrer"}},[t._v("【JVM】hotSpot VM 7种垃圾收集器：主要特点 应用场景 设置参数 基本运行原理"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("在JAVA中有大概五类的垃圾回收机制。分为Serial收集器，ParNew收集器，Parallel收集器，Cms收集器，G1收集器。在垃圾回收机制上应该尽量减少垃圾回收器带来的内存和CPU的性能损耗。当然这些并不会对开启线程数有着决定性的影响，属于细节性的微调。这里比较推荐使用G1垃圾回收器。G1垃圾回收器的特点如下：")]),t._v(" "),e("ul",[e("li",[t._v("支持很大的堆，高吞吐量")]),t._v(" "),e("li",[t._v("支持多CPU垃圾回收")]),t._v(" "),e("li",[t._v("在主线程暂停时，使用并行回收")]),t._v(" "),e("li",[t._v("在主线程运行时，使用并发回收。")])]),t._v(" "),e("h3",{attrs:{id:"_4-使用非gui模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-使用非gui模式"}},[t._v("#")]),t._v(" （4）使用非GUI模式")]),t._v(" "),e("p",[t._v("GUI在一定程度上冻结并消耗资源，这样会更容易产生一些不准确的性能测试结果。\n对于JMeter来说GUI存在的意义主要在于可视化输出结果，编写你的测试计划和debug你的测试计划。\njmeter命令执行：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("jmeter -n -t /usr/local/apache-jmeter-4.0/my_threads/sfwl.jmx\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("参数说明：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("-h 帮助 -> 打印出有用的信息并退出")])]),t._v(" "),e("li",[e("p",[t._v("-n 非 GUI 模式 -> 在非 GUI 模式下运行 JMeter")])]),t._v(" "),e("li",[e("p",[t._v("-t 测试文件 -> 要运行的 JMeter 测试脚本文件")])]),t._v(" "),e("li",[e("p",[t._v("-l 日志文件 -> 记录结果的文件")])]),t._v(" "),e("li",[e("p",[t._v("-r 远程执行 -> 启动远程服务")])]),t._v(" "),e("li",[e("p",[t._v("-H 代理主机 -> 设置 JMeter 使用的代理主机")])]),t._v(" "),e("li",[e("p",[t._v("-P 代理端口 -> 设置 JMeter 使用的代理主机的端口号")])])]),t._v(" "),e("p",[t._v("注意：如果未设置Jmeter的环境变量则在执行脚本的时候需要检查当前目录是否是jmeter的bin目录下")]),t._v(" "),e("h3",{attrs:{id:"_5-升级jmeter与java版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-升级jmeter与java版本"}},[t._v("#")]),t._v(" （5）升级JMeter与JAVA版本")]),t._v(" "),e("p",[t._v("尽可能使用最新版本的JMeter来进行性能测试，新版本的JMeter会使用新版的JRE和JDK，这样会一定程度上带来性能的提升。")]),t._v(" "),e("h3",{attrs:{id:"_6-压测过程中禁用监听器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-压测过程中禁用监听器"}},[t._v("#")]),t._v(" （6）压测过程中禁用监听器")]),t._v(" "),e("p",[t._v("实行压测的过程中尽可能少使用监听器，最好别用。启用监听器会导致额外的内存开销，这会消耗测试中为数不多的内存资源。比较明智的做法是使用非GUI模式，将测试结果全部保存到“.jtl”的文件中。测试完成之后将jtl格式的结果文件导入的JMeter中再进行结果分析。")]),t._v(" "),e("h3",{attrs:{id:"_7-谨慎使用断言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-谨慎使用断言"}},[t._v("#")]),t._v(" （7）谨慎使用断言")]),t._v(" "),e("p",[t._v("添加到测试计划的每个测试元素都将被处理。这样会占用较多的CPU和内存。这种资源的占用适用于所有的断言，尤其是比较断言。比较断言消耗大量资源和内存，所以在压力测试时慎重的使用断言和断言的数量。")]),t._v(" "),e("h3",{attrs:{id:"_8-利用分布式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-利用分布式"}},[t._v("#")]),t._v(" （8）利用分布式")]),t._v(" "),e("p",[t._v("参考："),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/77243079",target:"_blank",rel:"noopener noreferrer"}},[t._v("压测必经之路，解读JMeter分布式"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("分布式部署Jmeter，利用压力机集群进行压测，提升Jmeter的测试能力。")])])}),[],!1,null,null,null);s.default=r.exports}}]);