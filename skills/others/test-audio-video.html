<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实时音视频质量评估方案 | 在路上的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <link rel="icon" href="/image/favicon.ico">
    <script>
        var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?64ae7cd356095ffe37f635a2b38d97c9";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
            })();
        </script>
    <meta name="description" content="寻找普通人的自由之路">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.653dd393.css" as="style"><link rel="preload" href="/assets/js/app.25bd28d3.js" as="script"><link rel="preload" href="/assets/js/41.97257184.js" as="script"><link rel="preload" href="/assets/js/2.f52b2b3c.js" as="script"><link rel="preload" href="/assets/js/12.51543684.js" as="script"><link rel="prefetch" href="/assets/js/10.11042c24.js"><link rel="prefetch" href="/assets/js/11.f7dfcce2.js"><link rel="prefetch" href="/assets/js/13.bc21eaa0.js"><link rel="prefetch" href="/assets/js/14.b1348eac.js"><link rel="prefetch" href="/assets/js/15.ab05aca9.js"><link rel="prefetch" href="/assets/js/16.e71d09fd.js"><link rel="prefetch" href="/assets/js/17.642edada.js"><link rel="prefetch" href="/assets/js/18.07da16b4.js"><link rel="prefetch" href="/assets/js/19.f77734ce.js"><link rel="prefetch" href="/assets/js/20.3fa78d5c.js"><link rel="prefetch" href="/assets/js/21.f38a0ec4.js"><link rel="prefetch" href="/assets/js/22.e2a2f4fb.js"><link rel="prefetch" href="/assets/js/23.e99e466a.js"><link rel="prefetch" href="/assets/js/24.5c51c760.js"><link rel="prefetch" href="/assets/js/25.5197e8da.js"><link rel="prefetch" href="/assets/js/26.11058d88.js"><link rel="prefetch" href="/assets/js/27.322696be.js"><link rel="prefetch" href="/assets/js/28.953d911f.js"><link rel="prefetch" href="/assets/js/29.0309dcea.js"><link rel="prefetch" href="/assets/js/3.88adff4e.js"><link rel="prefetch" href="/assets/js/30.a459af8c.js"><link rel="prefetch" href="/assets/js/31.bc400b07.js"><link rel="prefetch" href="/assets/js/32.100f1f9b.js"><link rel="prefetch" href="/assets/js/33.561f5277.js"><link rel="prefetch" href="/assets/js/34.faabc755.js"><link rel="prefetch" href="/assets/js/35.798439ec.js"><link rel="prefetch" href="/assets/js/36.33da635f.js"><link rel="prefetch" href="/assets/js/37.16ff3375.js"><link rel="prefetch" href="/assets/js/38.dc5ce753.js"><link rel="prefetch" href="/assets/js/39.38583c95.js"><link rel="prefetch" href="/assets/js/4.873423c6.js"><link rel="prefetch" href="/assets/js/40.9521c28e.js"><link rel="prefetch" href="/assets/js/42.3085dc98.js"><link rel="prefetch" href="/assets/js/43.3c5f78b6.js"><link rel="prefetch" href="/assets/js/44.6b076331.js"><link rel="prefetch" href="/assets/js/45.d867c131.js"><link rel="prefetch" href="/assets/js/46.82103be9.js"><link rel="prefetch" href="/assets/js/47.9528b816.js"><link rel="prefetch" href="/assets/js/48.7830ec96.js"><link rel="prefetch" href="/assets/js/49.bb805b53.js"><link rel="prefetch" href="/assets/js/5.c597efbb.js"><link rel="prefetch" href="/assets/js/50.27946a8d.js"><link rel="prefetch" href="/assets/js/51.dc21e9ff.js"><link rel="prefetch" href="/assets/js/52.573492e5.js"><link rel="prefetch" href="/assets/js/53.9182f9b1.js"><link rel="prefetch" href="/assets/js/54.1378c4b7.js"><link rel="prefetch" href="/assets/js/55.13ded052.js"><link rel="prefetch" href="/assets/js/56.f161dcba.js"><link rel="prefetch" href="/assets/js/57.30e038f3.js"><link rel="prefetch" href="/assets/js/58.d3a80123.js"><link rel="prefetch" href="/assets/js/59.6d89429b.js"><link rel="prefetch" href="/assets/js/6.bde00a3d.js"><link rel="prefetch" href="/assets/js/60.1a58b6e3.js"><link rel="prefetch" href="/assets/js/61.a50bcccb.js"><link rel="prefetch" href="/assets/js/62.9245285c.js"><link rel="prefetch" href="/assets/js/63.e5938f85.js"><link rel="prefetch" href="/assets/js/64.adeb539c.js"><link rel="prefetch" href="/assets/js/65.d29bf20f.js"><link rel="prefetch" href="/assets/js/7.e33295de.js"><link rel="prefetch" href="/assets/js/8.dfc92f84.js"><link rel="prefetch" href="/assets/js/9.0ed184de.js">
    <link rel="stylesheet" href="/assets/css/0.styles.653dd393.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="在路上的博客" class="logo"> <span class="site-name can-hide">在路上的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="感悟" class="dropdown-title"><span class="title">感悟</span> <span class="arrow down"></span></button> <button type="button" aria-label="感悟" class="mobile-dropdown-title"><span class="title">感悟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meaning/find-job-value/" class="nav-link">
  如何寻找自己的职业价值观
</a></li><li class="dropdown-item"><!----> <a href="/meaning/code-for-life-meaning/" class="nav-link">
  编程是赋予普通人的超能力
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HttpRunner V3.X
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/HttpRunner3DocsForCN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.httprunner.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Android
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/android/android-fluency-quality-manage/" class="nav-link">
  流畅度评估及卡顿优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-power-consumption/" class="nav-link">
  后台耗电分析及优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-https-capture/" class="nav-link">
  https抓包指南
</a></li></ul></li><li class="dropdown-item"><h4>
          服务端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/server/interface-test-guide/" class="nav-link">
  服务端接口测试指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-getting-start/" class="nav-link">
  服务端性能测试-入门指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-tools/" class="nav-link">
  服务端性能测试-工具篇
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/others/test-audio-video/" class="nav-link">
  实时音视频质量评估方案
</a></li><li class="dropdown-subitem"><a href="/skills/others/good-tools/" class="nav-link">
  好工具推荐
</a></li><li class="dropdown-subitem"><a href="/skills/others/clean-macBook-diskSpace/" class="nav-link">
  如何释放MacBook上的磁盘空间
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="生活" class="mobile-dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          孕产检育儿
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/pregnantBirth/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  孕产检
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/life/Baby/" class="nav-link">
  育婴笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          北京房
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJHouse/" class="nav-link">
  北京购房指南
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/buyHouseInBeiJing/" class="nav-link">
  2018北京购房回顾
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/analyzeHouse/" class="nav-link">
  目标房产对比分析
</a></li></ul></li><li class="dropdown-item"><h4>
          北京车
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJCar/" class="nav-link">
  北京新能源车上牌流程
</a></li></ul></li><li class="dropdown-item"><h4>
          北京医
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJhospital/china-hospital-rank/" class="nav-link">
  2019北京医院科室排名
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="财务" class="dropdown-title"><span class="title">财务</span> <span class="arrow down"></span></button> <button type="button" aria-label="财务" class="mobile-dropdown-title"><span class="title">财务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          保险
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          财务规划
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          理财
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/travel/" class="nav-link">
  旅行
</a></div><div class="nav-item"><a href="/liuyan/" class="nav-link">
  留言板
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  AboutMe
</a></div> <a href="https://github.com/OnTheWay111/OnTheWay111.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="感悟" class="dropdown-title"><span class="title">感悟</span> <span class="arrow down"></span></button> <button type="button" aria-label="感悟" class="mobile-dropdown-title"><span class="title">感悟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meaning/find-job-value/" class="nav-link">
  如何寻找自己的职业价值观
</a></li><li class="dropdown-item"><!----> <a href="/meaning/code-for-life-meaning/" class="nav-link">
  编程是赋予普通人的超能力
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HttpRunner V3.X
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/HttpRunner3DocsForCN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.httprunner.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Android
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/android/android-fluency-quality-manage/" class="nav-link">
  流畅度评估及卡顿优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-power-consumption/" class="nav-link">
  后台耗电分析及优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-https-capture/" class="nav-link">
  https抓包指南
</a></li></ul></li><li class="dropdown-item"><h4>
          服务端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/server/interface-test-guide/" class="nav-link">
  服务端接口测试指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-getting-start/" class="nav-link">
  服务端性能测试-入门指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-tools/" class="nav-link">
  服务端性能测试-工具篇
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/others/test-audio-video/" class="nav-link">
  实时音视频质量评估方案
</a></li><li class="dropdown-subitem"><a href="/skills/others/good-tools/" class="nav-link">
  好工具推荐
</a></li><li class="dropdown-subitem"><a href="/skills/others/clean-macBook-diskSpace/" class="nav-link">
  如何释放MacBook上的磁盘空间
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="生活" class="mobile-dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          孕产检育儿
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/pregnantBirth/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  孕产检
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/life/Baby/" class="nav-link">
  育婴笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          北京房
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJHouse/" class="nav-link">
  北京购房指南
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/buyHouseInBeiJing/" class="nav-link">
  2018北京购房回顾
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/analyzeHouse/" class="nav-link">
  目标房产对比分析
</a></li></ul></li><li class="dropdown-item"><h4>
          北京车
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJCar/" class="nav-link">
  北京新能源车上牌流程
</a></li></ul></li><li class="dropdown-item"><h4>
          北京医
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJhospital/china-hospital-rank/" class="nav-link">
  2019北京医院科室排名
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="财务" class="dropdown-title"><span class="title">财务</span> <span class="arrow down"></span></button> <button type="button" aria-label="财务" class="mobile-dropdown-title"><span class="title">财务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          保险
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          财务规划
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          理财
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/travel/" class="nav-link">
  旅行
</a></div><div class="nav-item"><a href="/liuyan/" class="nav-link">
  留言板
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  AboutMe
</a></div> <a href="https://github.com/OnTheWay111/OnTheWay111.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Others</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skills/others/clean-macBook-diskSpace.html" class="sidebar-link">【译】如何释放MacBook上的磁盘空间(For:开发者)</a></li><li><a href="/skills/others/good-tools.html" class="sidebar-link">好工具推荐</a></li><li><a href="/skills/others/handle-mysql-forget-psw.html" class="sidebar-link">mysql忘记密码解决</a></li><li><a href="/skills/others/mkdocs-add-baidu-tj.html" class="sidebar-link">mkdocs添加百度统计</a></li><li><a href="/skills/others/mysql-errors.html" class="sidebar-link">mysql常见错误处理</a></li><li><a href="/skills/others/pixel-shuaji.html" class="sidebar-link">pixel刷机指南</a></li><li><a href="/skills/others/test-audio-video.html" aria-current="page" class="active sidebar-link">实时音视频质量评估方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_1、背景" class="sidebar-link">1、背景</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2、音视频质量评估方案" class="sidebar-link">2、音视频质量评估方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-1-视频评估方案" class="sidebar-link">2.1 视频评估方案</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-2-音频评估方案" class="sidebar-link">2.2 音频评估方案</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-3-流畅度评估" class="sidebar-link">2.3 流畅度评估</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-4-网络模拟工具" class="sidebar-link">2.4 网络模拟工具</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-5-好用的测试框架" class="sidebar-link">2.5 好用的测试框架</a></li></ul></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_3、参考资料" class="sidebar-link">3、参考资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_3-1-sdk性能指标" class="sidebar-link">3.1 SDK性能指标</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_3-2-视频质量标准及算法" class="sidebar-link">3.2 视频质量标准及算法</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_3-3-音频质量标准" class="sidebar-link">3.3 音频质量标准</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_3-4-音视频处理工具ffmpeg" class="sidebar-link">3.4 音视频处理工具FFmpeg</a></li></ul></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_4、名词解释" class="sidebar-link">4、名词解释</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_1-视频" class="sidebar-link">（1）视频</a></li><li class="sidebar-sub-header"><a href="/skills/others/test-audio-video.html#_2-音频参数-参考资料" class="sidebar-link">（2）音频参数（参考资料 ）</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="/assets/img/img.8bb28ddf.png" alt=""></p> <blockquote><p>全文参考：</p> <ol><li><a href="https://segmentfault.com/a/1190000011327421" target="_blank" rel="noopener noreferrer">音视频测试建议（腾讯音视频实验室质量平台组）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/6844903576935006221" target="_blank" rel="noopener noreferrer">Android端音视频测试（网易云信）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/ccloud/p/12950871.html" target="_blank" rel="noopener noreferrer">腾讯会议如何进行视频质量评估与优化？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/35596590" target="_blank" rel="noopener noreferrer">关于UGC、PGC、OGC三者详细区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cloud.tencent.com/developer/article/1427161" target="_blank" rel="noopener noreferrer">音视频质量评估绿皮书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/mengnan/p/12046332.html" target="_blank" rel="noopener noreferrer">语音质量评估<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdf.hanspub.org/CSA20180400000_31575266.pdf" target="_blank" rel="noopener noreferrer">语音增强及质量评估的论文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cloud.tencent.com/developer/article/1532366" target="_blank" rel="noopener noreferrer">VIPKID 音视频质量评估与感知系统<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://support.shangzhibo.tv/hc/kb/article/1028655/" target="_blank" rel="noopener noreferrer">画质、码率、帧数、分辨率、体积的基础编码知识<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></blockquote> <blockquote><p>恭喜自己，因为做该方案，完成了自己的第一次知名开源项目的pull request。
<img src="/assets/img/video1.b4aae847.png" alt=""></p></blockquote> <h2 id="_1、背景"><a href="#_1、背景" class="header-anchor">#</a> 1、背景</h2> <p>视频电话功能，涉及实时音视频的质量评估。</p> <p>音视频传输流程如下：
<img src="/assets/img/video0.9cb3332f.png" alt=""></p> <p>如图所示，<strong>影响音视频质量的因素有：</strong></p> <ul><li>源视频的采集质量（硬件决定）；</li> <li>音视频SDK的服务质量（SDK服务商决定）；</li> <li>网络情况；</li></ul> <p><strong>实时传输视频质量专项有</strong>（不同网络环境下）：</p> <ul><li>性能、码率、抗性、时延、音画同步（由SDK服务保障并提供技术指标）</li> <li>卡顿（流畅度）：手机终端测试</li> <li>视频质量（人工）：通过开源算法进行评估</li></ul> <div><font color="red">图片质量不能完全代表视频质量，这个一定注意。有疑问的，看下图（来源：腾讯会议）</font></div> <p><img src="/assets/img/video2.40dfdb4e.png" alt=""></p> <h2 id="_2、音视频质量评估方案"><a href="#_2、音视频质量评估方案" class="header-anchor">#</a> 2、音视频质量评估方案</h2> <h3 id="_2-1-视频评估方案"><a href="#_2-1-视频评估方案" class="header-anchor">#</a> 2.1 视频评估方案</h3> <p>视频质量评估致力于评估视频的人眼感知质量，总的来说有两种评估方式：</p> <ul><li>主观质量评估：依赖人眼观看并打分，这种得到的分数比较精确，但是很耗时间，而且不方便大规模部署。</li> <li>客观质量评估：主要是计算损伤视频的质量分数。评价一个算法的好坏就是衡量主观分数和客观分数的相关系数，一般来说系数越高越好。</li></ul> <p>客观质量评估算法大概分三类，主要取决于是否使用无损的源视频作为参考。</p> <ul><li>全参考：比如PSNR就是典型的全参考算法，通过与源视频进行各种层面比对，来衡量损伤视频的质量。</li> <li>无参考：有的算法不使用源视频，只使用接收端的视频，来衡量它自己本身的质量。</li> <li>部分参考： 比如从源视频中提取一个特征向量，特征向量随着损伤视频一块发送到用户端用来计算质量。视频会议这种场景要做全参考本来是不现实的，因为不可能把本地无损的源视频送到用户端或者其他地方计算质量，我们这次所做的工作就是把会议这种典型的实时场景转化成一个可以使用全参考算法离线优化的场景。</li></ul> <p>不同视频算法在视频数据库上的表现：</p> <p><img src="/assets/img/video3.14d1abba.png" alt=""></p> <p><font style="background:yellow;">通过调研发现，视频质量评估开源算法，<strong>暂时以netflix的VMAF的为准</strong>，后期会增加腾讯开源的DVQA评估（DVQA的模型以PGC视频的，不适用与UGC的用户场景）。</font></p> <p>DVQA开源版当前适用场景：
<img src="/assets/img/video4.45287735.png" alt=""></p> <h4 id="_1-netflix-vmaf"><a href="#_1-netflix-vmaf" class="header-anchor">#</a> （1）<a href="https://zhuanlan.zhihu.com/p/94223056" target="_blank" rel="noopener noreferrer">netflix VMAF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li><a href="https://netflixtechblog.com/toward-a-practical-perceptual-video-quality-metric-653f208b9652" target="_blank" rel="noopener noreferrer">官方介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://github.com/Netflix/vmaf" target="_blank" rel="noopener noreferrer">源码地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Netflix/vmaf/blob/master/libvmaf/README.md" target="_blank" rel="noopener noreferrer">VMAF官方安装指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://testerhome.com/topics/25083" target="_blank" rel="noopener noreferrer">mac安装指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>原理</strong>：Video Multimethod Assessment Fusion，简称 VMAF，通过结合多种基本质量指标来预测主观质量。其基本原理是，每个基本度量在源内容特征、工件类型和扭曲程度方面都可能有自己的优点和缺点。通过使用机器学习算法将基本度量“融合”成最终的度量标准ーー在我们的例子中是一个支持向量机回归子ーー它为每个基本度量标准赋予权重，最终的度量标准可以保留每个度量标准的所有优点，并提供一个更准确的最终得分。s</li> <li><strong>开发技术说明</strong>：VDK 内核中的特征提取(包括初等度量计算)是计算密集型的，为了提高效率，采用 c 语言编写。控制代码是用 Python 编写的，用于快速原型化。</li> <li><strong>参考的基本指标</strong>：
<ul><li><strong>视觉信息逼真度(VIF)</strong>：VIF 是一种被广泛采用的图像质量度量方法，它的前提是图像质量与信息保真度损失的度量相辅相成。在其原始形式，VIF 分数是衡量为一个失去保真度结合四个尺度。在 VMAF 中，我们采用了一个修正版的 VIF，其中每个尺度的保真度损失是作为一个基本的度量。</li> <li><strong>详细损失度量(DLM)</strong>：DLM 是一种图像质量度量方法，它的基本原理是分别测量影响内容可见性的细节损失，以及分散观众注意力的冗余损失。最初的度量结合了 DLM 和加性损害测量(AIM) ，以产生最终的得分。在 VMAF 中，我们只采用 DLM 作为一个基本的度量。特别注意特殊情况，如黑框，其中数值计算的原始公式打破。</li> <li><strong>Motion</strong>：测量相邻帧之间时间差的简单方法。这是通过计算亮度分量的平均绝对像素差来实现的。</li></ul></li> <li><strong>使用</strong>：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">PYTHONPATH</span><span class="token operator">=</span>python ./python/vmaf/script/run_vmaf.py <span class="token punctuation">\</span>
  yuv420p <span class="token number">576</span> <span class="token number">324</span> <span class="token punctuation">\</span>
  python/test/resource/yuv/src01_hrc00_576x324.yuv <span class="token punctuation">\</span>
  python/test/resource/yuv/src01_hrc01_576x324.yuv <span class="token punctuation">\</span>
  --out-fmt json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><strong>结果解析</strong>：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;aggregate&quot;: {
    &quot;VMAF_feature_adm2_score&quot;: 0.93458780776205741, 
    &quot;VMAF_feature_motion2_score&quot;: 3.8953518541666665, 
    &quot;VMAF_feature_vif_scale0_score&quot;: 0.36342081156994926, 
    &quot;VMAF_feature_vif_scale1_score&quot;: 0.76664738784617292, 
    &quot;VMAF_feature_vif_scale2_score&quot;: 0.86285338927816291, 
    &quot;VMAF_feature_vif_scale3_score&quot;: 0.91597186913930484, 
    &quot;VMAF_score&quot;: 76.699271371151269, 
    &quot;method&quot;: &quot;mean&quot;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>VMAF_score得分是最终得分，得分范围0（最差） to 1（最好）</li> <li>adm2, vif_scalex 得分范围 0 (最差) to 1 (最好)</li> <li>motion2 得分范围 0 (静止的) to 20 (高速运动的)</li></ul> <h3 id="_2-2-音频评估方案"><a href="#_2-2-音频评估方案" class="header-anchor">#</a> 2.2 音频评估方案</h3> <p>音频质量评估算法较多，从稳定性和评估纬度考虑，选择PESQ和STOI进行音频评估。
音频质量评估相关介绍及代码见：https://testerhome.com/topics/25054</p> <h4 id="_1-pesq"><a href="#_1-pesq" class="header-anchor">#</a> （1） PESQ</h4> <ul><li>git：https://github.com/vBaiCai/python-pesq</li> <li>功能：通过输入原始文件和待评估文件，输出PESQ得分，得分范围在<font style="background:yellow;">-0.5--4.5</font>之间，得分越高表示语音质量越好。</li> <li>说明：PESQ算法需要带噪的衰减信号和一个原始的参考信号。开始时将两个待比较的语音信号经过电平调整、输入滤波器滤波、时间对准和补偿、听觉变换之后, 分别提取两路信号的参数, 综合其时频特性, 得到PESQ分数, 最终将这个分数映射到主观平均意见分(MOS)。PESQ得分范围在-0.5--4.5之间。得分越高表示语音质量越好。</li></ul> <h4 id="_2-可短时客观可懂-stoi"><a href="#_2-可短时客观可懂-stoi" class="header-anchor">#</a> （2） 可短时客观可懂（STOI）</h4> <p>0-1范围，值越大，可懂度越高。</p> <p>STOI：可短时客观可懂，是用来评估在时域上经过掩蔽或经过短时傅里叶变换且频域上加权的带噪语音的可懂性。计算 STOI 时，用时间对其的纯净与混合语音信号来计算每个音频通道 kk K ( =1, ,  ) 与 400ms 短时分段 mm M ( =1, ,  ) 的中间值 d km ( , ) 。首先，对纯净和带噪语音信号进行短时傅里叶变换，得到第 j个频段第 n个时间侦的短时能量谱 ( ) 2 X jn, 和 ( ) 2 Y jn, 。 将 j 个跨越 1/3 倍频带间隔的 ( ) 2 X jn, 和 ( ) 2 Y jn, 相加得到第 k 个音频通道的能量谱 ( ) 2 X kn, 和 ( ) 2 Y kn, 。带噪语音能量谱 ( ) 2 Y kn, 被限制为信号失真比不能低于−15dB。中间值 d km ( , ) 是 ( ) 2 X km, 和 第 k 通道 m 分段的带噪语音能量谱 ( ) ( ) 2 Y kn n N , 1, , =  的相关指数。STOI 评分 d 是带噪语音每个频带可懂性的平均值，表达式如下： ( ) , 1 , k m d d km KM = ∑ STOI 通过对纯净语音和待评价的语音进行比较从而得到评分，取值范围为 0-1。取值越高语音质量越好。</p> <p>STOI 通过对纯净语音和待评价的语音进行比较从而得到评分，取值范围为 0-1。取值越高语音质量 越好。</p> <p>git：https://github.com/mpariente/pystoi</p> <h3 id="_2-3-流畅度评估"><a href="#_2-3-流畅度评估" class="header-anchor">#</a> 2.3 流畅度评估</h3> <h4 id="_1-帧耗时和卡顿率"><a href="#_1-帧耗时和卡顿率" class="header-anchor">#</a> （1）帧耗时和卡顿率</h4> <ul><li>（来源：腾讯）流畅度一般以卡顿率来反映，卡顿的信息主要包含卡顿次数与卡顿时间；直播场景业界通常的卡顿定义是帧渲染间隔大于1s则为卡顿发生；但通过主观实验，一般这个值达到200ms，观众即可感受到卡顿；</li> <li>卡顿率 = sum (&gt;200ms卡顿时间) / 通话时间；</li> <li>流媒体场景下的卡顿定义会采用不同的方法。</li> <li>流畅度评估原理（安卓）：通过获取gfxinfo中的帧信息，统计帧耗时和卡顿率。</li></ul> <p><img src="/assets/img/video5.8b2118fc.png" alt=""></p> <h4 id="_2-fps"><a href="#_2-fps" class="header-anchor">#</a> （2）FPS</h4> <p>对比推流和拉流的FPS，定义拉流的不同FPS阶段，来定义流畅程度。</p> <h3 id="_2-4-网络模拟工具"><a href="#_2-4-网络模拟工具" class="header-anchor">#</a> 2.4 网络模拟工具</h3> <p>参考：https://juejin.im/entry/6844903432961146887</p> <p>可通过模拟不同的网络环境，一方面验证SDK承诺的各项性能指标是否合格，另一方面验证弱网环境下的音视频质量。</p> <h4 id="_1-qnet弱网测试工具"><a href="#_1-qnet弱网测试工具" class="header-anchor">#</a> （1）QNET弱网测试工具</h4> <p>只需要在设备上安装APP，并用QQ登陆即可。弱网模拟环境稳定、安装简单。
<img src="/assets/img/video6.46b114bb.png" alt=""> <img src="/assets/img/video7.b1a20b64.png" alt=""></p> <h4 id="_2-network-emulator"><a href="#_2-network-emulator" class="header-anchor">#</a> （2）network emulator</h4> <p>弱网测试工具：<a href="https://blog.mrpol.nl/2010/01/14/network-emulator-toolkit/" target="_blank" rel="noopener noreferrer">network emulator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，微软开源，可实现带宽、丢包、延时、抖动、综合网络等弱网参数的限制。</p> <p>弱网测试常用参数：
<img src="/assets/img/video8.9974493d.png" alt=""></p> <h4 id="_3-facebook-atc"><a href="#_3-facebook-atc" class="header-anchor">#</a> （3）facebook ATC</h4> <p>安装及使用参考：https://testerhome.com/topics/15562
<img src="/assets/img/video9.063b3a2e.png" alt=""></p> <h3 id="_2-5-好用的测试框架"><a href="#_2-5-好用的测试框架" class="header-anchor">#</a> 2.5 好用的测试框架</h3> <ul><li>scikit-image 这个主要是对视频,图片的一些算法, 比如PSNR, SSIM等</li> <li>QoSTestFramework 还有一个测试框架,这个也集成了VMAF.</li></ul> <h2 id="_3、参考资料"><a href="#_3、参考资料" class="header-anchor">#</a> 3、参考资料</h2> <p>UGC质量评估：评估对象为短视频、直播、实时视频通话等。</p> <h3 id="_3-1-sdk性能指标"><a href="#_3-1-sdk性能指标" class="header-anchor">#</a> 3.1 SDK性能指标</h3> <h4 id="_1-音视频sdk性能指标"><a href="#_1-音视频sdk性能指标" class="header-anchor">#</a> （1）音视频SDK性能指标</h4> <p>腾讯数据来源：https://cloud.tencent.com/document/product/454/9867
推流状态数据：
<img src="/assets/img/video11.f6477a1c.png" alt=""></p> <p>获取播放的状态数据：
<img src="/assets/img/video12.9403c3b4.png" alt=""></p> <h3 id="_3-2-视频质量标准及算法"><a href="#_3-2-视频质量标准及算法" class="header-anchor">#</a> 3.2 视频质量标准及算法</h3> <p>视频质量客观评估就是量化一段视频通过视频传输／处理系统时画面质量变化（通常是下降）程度的方法。</p> <h4 id="_1-视频评估算法对比"><a href="#_1-视频评估算法对比" class="header-anchor">#</a> （1）视频评估算法对比</h4> <p><img src="/assets/img/video13.14d1abba.png" alt=""></p> <p>指标解析：</p> <ul><li><strong>PLCC</strong>：Pearson线性相关系数，代表模型的线性相关性。</li> <li><strong>SROCC</strong>：Spearman秩序相关系数，用来衡量秩序的相关性的，代表模型的非线性相关性。
假设有两组序列X和Y，其秩序为R(X)和R(Y)，则SROCC(X, Y) = PLCC(R(X), R(Y))。</li></ul> <h4 id="_2-腾讯会议开源的dvqa"><a href="#_2-腾讯会议开源的dvqa" class="header-anchor">#</a> （2）<a href="https://www.cnblogs.com/ccloud/p/12950871.html" target="_blank" rel="noopener noreferrer">腾讯会议开源的DVQA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>针对腾讯会议场景所开发的基于深度学习的实时视频全参考质量评估算法。</p> <p>腾讯会议使用深度学习设计了一个新的网格，来自动学习视频质量的相关特征，然后在PGC数据集上训练得到一个通用的网格。</p> <ul><li>特点：
<ul><li>足够的准确度和区分度来衡量编解码器性能；</li> <li>PSNR、SSIM、MS-SSIM、VMAF，基于图像质量评估；</li> <li>使用深度学习来自动学习质量相关特征；</li> <li>使用迁移学习来拓展已有模型到新的场景；</li></ul></li> <li>git地址：https://github.com/Tencent/DVQA</li> <li>腾讯会议 在线视频质量打分平台：来收集视频的主观数据: mos.medialab.qq.com</li></ul> <p>腾讯视频也开发了端到端自动的质量评测系统，这是整体的框架图。其实它的策略相对来说没那么复杂，就是在发送端播放源视频，经过可控的损伤网络之后，另一边是接收端，在接收端捕获会议呈现的画面，把这个画面拿出来再结合发送端的源视频去计算它的质量分数。前面提到的性能、码率这些绝对的指标都可以得到，抗性更多取决于什么样的网络情况下体验特别糟糕，时延、卡顿、音画同步、包括帧率都可以通过比对这两个视频得到结果。</p> <h4 id="_3-netflix-vmaf"><a href="#_3-netflix-vmaf" class="header-anchor">#</a> （3）<a href="https://zhuanlan.zhihu.com/p/94223056" target="_blank" rel="noopener noreferrer">netflix VMAF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li><p><a href="https://netflixtechblog.com/toward-a-practical-perceptual-video-quality-metric-653f208b9652" target="_blank" rel="noopener noreferrer">官方介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>git：https://github.com/Netflix/vmaf</p></li> <li><p><a href="https://github.com/Netflix/vmaf/blob/master/libvmaf/README.md" target="_blank" rel="noopener noreferrer">VMAF安装指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 、<a href="https://testerhome.com/topics/25083" target="_blank" rel="noopener noreferrer">mac安装指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><strong>原理</strong>：Video Multimethod Assessment Fusion，简称 VMAF，通过结合多种基本质量指标来预测主观质量。其基本原理是，每个基本度量在源内容特征、工件类型和扭曲程度方面都可能有自己的优点和缺点。通过使用机器学习算法将基本度量“融合”成最终的度量标准ーー在我们的例子中是一个支持向量机回归子ーー它为每个基本度量标准赋予权重，最终的度量标准可以保留每个度量标准的所有优点，并提供一个更准确的最终得分。</p></li> <li><p><strong>开发技术说明</strong>：VDK 内核中的特征提取(包括初等度量计算)是计算密集型的，为了提高效率，采用 c 语言编写。控制代码是用 Python 编写的，用于快速原型化。</p></li> <li><p><strong>参考的基本指标</strong>：</p> <ul><li><strong>视觉信息逼真度(VIF)</strong>：VIF 是一种被广泛采用的图像质量度量方法，它的前提是图像质量与信息保真度损失的度量相辅相成。在其原始形式，VIF 分数是衡量为一个失去保真度结合四个尺度。在 VMAF 中，我们采用了一个修正版的 VIF，其中每个尺度的保真度损失是作为一个基本的度量。</li> <li><strong>详细损失度量(DLM)</strong>：DLM 是一种图像质量度量方法，它的基本原理是分别测量影响内容可见性的细节损失，以及分散观众注意力的冗余损失。最初的度量结合了 DLM 和加性损害测量(AIM) ，以产生最终的得分。在 VMAF 中，我们只采用 DLM 作为一个基本的度量。特别注意特殊情况，如黑框，其中数值计算的原始公式打破。</li> <li><strong>Motion</strong>：测量相邻帧之间时间差的简单方法。这是通过计算亮度分量的平均绝对像素差来实现的。</li></ul></li> <li><p>vmaf基本用法</p> <ul><li>单模式运行：run_vmaf.py</li> <li>命令格式</li></ul></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">PYTHONPATH</span><span class="token operator">=</span>python ./python/vmaf/script/run_vmaf.py <span class="token function">format</span> width height reference_path distorted_path <span class="token punctuation">[</span>--out-fmt output_format<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>命令解析：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>format可以是：
（1）uv420p, yuv422p, yuv444p (8-Bit YUV)
（2）yuv420p10le, yuv422p10le, yuv444p10le (10-Bit little-endian YUV)
width height是视频的宽高度，以像素为单位。
output_format可以是：text/xml/json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>举例：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 举例</span>
<span class="token assign-left variable">PYTHONPATH</span><span class="token operator">=</span>python ./python/vmaf/script/run_vmaf.py <span class="token punctuation">\</span>
  yuv420p <span class="token number">576</span> <span class="token number">324</span> <span class="token punctuation">\</span>
  python/test/resource/yuv/src01_hrc00_576x324.yuv <span class="token punctuation">\</span>
  python/test/resource/yuv/src01_hrc01_576x324.yuv <span class="token punctuation">\</span>
  --out-fmt json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>结果解析</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>## 这将生成如下 JSON 输出:
&quot;aggregate&quot;: {
    &quot;VMAF_feature_adm2_score&quot;: 0.93458780776205741, 
    &quot;VMAF_feature_motion2_score&quot;: 3.8953518541666665, 
    &quot;VMAF_feature_vif_scale0_score&quot;: 0.36342081156994926, 
    &quot;VMAF_feature_vif_scale1_score&quot;: 0.76664738784617292, 
    &quot;VMAF_feature_vif_scale2_score&quot;: 0.86285338927816291, 
    &quot;VMAF_feature_vif_scale3_score&quot;: 0.91597186913930484, 
    &quot;VMAF_score&quot;: 76.699271371151269, 
    &quot;method&quot;: &quot;mean&quot;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><p>其中VMAF_score得分是最终得分，其他是VMAF的基本指标得分。</p> <ul><li>adm2, vif_scalex 得分范围 0 (最差) to 1 (最好)</li> <li>motion2 得分范围 0 (静止的) to 20 (高速运动的)</li></ul></li> <li><p>批处理模式运行: run_vmaf_in_batch.py</p></li> <li><p>命令行工具：ffmpeg2vmaf，提供了将压缩视频流作为输入的能力。</p></li></ul> <h3 id="_3-3-音频质量标准"><a href="#_3-3-音频质量标准" class="header-anchor">#</a> 3.3 音频质量标准</h3> <p>PESQ和PQLQA都是业界公认的语音音质评估算法；</p> <h4 id="_1-音频评估纬度"><a href="#_1-音频评估纬度" class="header-anchor">#</a> （1）音频评估纬度</h4> <h5 id="a-绝对等级评分-mos"><a href="#a-绝对等级评分-mos" class="header-anchor">#</a> A. 绝对等级评分(MOS)</h5> <p><img src="/assets/img/video14.c05aaafe.png" alt=""></p> <p>一般MOS应为4或者更高，这可以被认为是比较好的语音质量，若MOS低于3.6，则表示大部分被测不太满意这个语音质量。
MOS测试一般要求：</p> <ol><li>足够多样化的样本（即试听者和句子数量）以确保结果在统计上的显著；</li> <li>控制每个试听者的实验环境和设备保持一致；</li> <li>每个试听者遵循同样的评估标准。</li></ol> <h5 id="b-失真等级评分-degradation-category-rating-dcr"><a href="#b-失真等级评分-degradation-category-rating-dcr" class="header-anchor">#</a> B. 失真等级评分（Degradation Category Rating, DCR)</h5> <h5 id="c-相对等级评分-comparative-category-rating-ccr"><a href="#c-相对等级评分-comparative-category-rating-ccr" class="header-anchor">#</a> C. 相对等级评分（Comparative Category Rating, CCR）</h5> <h4 id="_2-音频评估算法"><a href="#_2-音频评估算法" class="header-anchor">#</a> （2）音频评估算法</h4> <h5 id="a-python-pesq-pesq"><a href="#a-python-pesq-pesq" class="header-anchor">#</a> A. python-pesq（PESQ）</h5> <ul><li>git：https://github.com/vBaiCai/python-pesq</li> <li>功能：通过输入原始文件和待评估文件，输出PESQ得分，得分范围在-0.5--4.5之间，得分越高表示语音质量越好。</li> <li>说明：PESQ算法需要带噪的衰减信号和一个原始的参考信号。开始时将两个待比较的语音信号经过电平调整、输入滤波器滤波、时间对准和补偿、听觉变换之后, 分别提取两路信号的参数, 综合其时频特性, 得到PESQ分数, 最终将这个分数映射到主观平均意见分(MOS)。PESQ得分范围在-0.5--4.5之间。得分越高表示语音质量越好。</li></ul> <h5 id="b-分段信噪比-segsnr"><a href="#b-分段信噪比-segsnr" class="header-anchor">#</a> B. 分段信噪比（SegSNR）</h5> <p>由于语音信号是一种缓慢变化的短时平稳信号，因而在不同时间段上的信噪比也应不一样。为了改善信噪比的问题，可以采用分段信噪比。</p> <h5 id="c-对数似然比测度-llr"><a href="#c-对数似然比测度-llr" class="header-anchor">#</a> C. 对数似然比测度（LLR）</h5> <p>坂仓距离测度是通过语音信号的线性预测分析来实现的。ISD基于两组线性预测参数(分别从原纯净语音和处理过的语音的同步帧得到)之间的差异。LLR可以看成一种坂仓距离（Itakura Distance,IS），但IS距离需要考虑模型增益。而LLR不考虑模型增益引起的幅度位移，更重视整体谱包络的相似度。</p> <h5 id="d-对数谱距离-lsd"><a href="#d-对数谱距离-lsd" class="header-anchor">#</a> D. 对数谱距离（LSD）</h5> <h5 id="e-可短时客观可懂-stoi"><a href="#e-可短时客观可懂-stoi" class="header-anchor">#</a> E. 可短时客观可懂（STOI）</h5> <p>0-1范围，值越大，可懂度越高。</p> <h5 id="f-加权谱倾斜测度-wss"><a href="#f-加权谱倾斜测度-wss" class="header-anchor">#</a> F. 加权谱倾斜测度（WSS）</h5> <p>WSS值越小说明扭曲越少，越小越好，范围</p> <h5 id="g-感知客观语音质量评估-polqa"><a href="#g-感知客观语音质量评估-polqa" class="header-anchor">#</a> G. 感知客观语音质量评估（POLQA）</h5> <p>POLQA，是一种全参考（FR）算法，可对与原始信号相关的降级或处理过的语音信号进行评级。它将参考信号（讲话者侧）的每个样本与劣化信号（收听者侧）的每个相应样本进行比较。两个信号之间的感知差异被评为差异。</p> <p>PQLQA的音质评估涵盖了可懂度、卡顿等听感信息；因为是有参算法，所以不适合用于变声一类的场景评估；除关心音质的评价值外，音质平稳性也会对听感有较大影响。</p> <h3 id="_3-4-音视频处理工具ffmpeg"><a href="#_3-4-音视频处理工具ffmpeg" class="header-anchor">#</a> 3.4 音视频处理工具FFmpeg</h3> <h4 id="_1-统计码率"><a href="#_1-统计码率" class="header-anchor">#</a> （1）统计码率</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ffmpeg -i  /Users/lizhen/Downloads/mask.mp4  -hide_banner
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ffmpeg version <span class="token number">4.3</span>.1 Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>-2020 the FFmpeg developers
  built with Apple clang version <span class="token number">11.0</span>.3 <span class="token punctuation">(</span>clang-1103.0.32.62<span class="token punctuation">)</span>
  configuration: --prefix<span class="token operator">=</span>/usr/local/Cellar/ffmpeg/4.3.1 --enable-shared --enable-pthreads --enable-version3 --enable-avresample --cc<span class="token operator">=</span>clang --host-cflags<span class="token operator">=</span> --host-ldflags<span class="token operator">=</span> --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libbluray --enable-libdav1d --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libspeex --enable-libsoxr --enable-videotoolbox --disable-libjack --disable-indev<span class="token operator">=</span>jack
  libavutil      <span class="token number">56</span>. <span class="token number">51.100</span> / <span class="token number">56</span>. <span class="token number">51.100</span>
  libavcodec     <span class="token number">58</span>. <span class="token number">91.100</span> / <span class="token number">58</span>. <span class="token number">91.100</span>
  libavformat    <span class="token number">58</span>. <span class="token number">45.100</span> / <span class="token number">58</span>. <span class="token number">45.100</span>
  libavdevice    <span class="token number">58</span>. <span class="token number">10.100</span> / <span class="token number">58</span>. <span class="token number">10.100</span>
  libavfilter     <span class="token number">7</span>. <span class="token number">85.100</span> /  <span class="token number">7</span>. <span class="token number">85.100</span>
  libavresample   <span class="token number">4</span>.  <span class="token number">0</span>.  <span class="token number">0</span> /  <span class="token number">4</span>.  <span class="token number">0</span>.  <span class="token number">0</span>
  libswscale      <span class="token number">5</span>.  <span class="token number">7.100</span> /  <span class="token number">5</span>.  <span class="token number">7.100</span>
  libswresample   <span class="token number">3</span>.  <span class="token number">7.100</span> /  <span class="token number">3</span>.  <span class="token number">7.100</span>
  libpostproc    <span class="token number">55</span>.  <span class="token number">7.100</span> / <span class="token number">55</span>.  <span class="token number">7.100</span>
Input <span class="token comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from '/Users/lizhen/Downloads/mask.mp4':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2avc1mp41
    encoder         <span class="token builtin class-name">:</span> Lavf57.41.100
  Duration: 00:06:19.39, start: <span class="token number">0.000000</span>, bitrate: <span class="token number">142</span> kb/s（码率）
    Stream <span class="token comment">#0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 640x360 [SAR 1:1 DAR 16:9], 113 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
    Stream <span class="token comment">#0:1(und): Audio: aac (HE-AAC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 24 kb/s (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ffprobe -print_format json  -show_streams https://madialab-storage-1256380422.cos.ap-guangzhou.myqcloud.com/test/SHARPROUND1ST/SRC0002_720x1280_30_0.mp4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">1</span>. ffprobe version <span class="token number">4.3</span>.1 Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2007</span>-2020 the FFmpeg developers
  built with Apple clang version <span class="token number">11.0</span>.3 <span class="token punctuation">(</span>clang-1103.0.32.62<span class="token punctuation">)</span>
  configuration: --prefix<span class="token operator">=</span>/usr/local/Cellar/ffmpeg/4.3.1 --enable-shared --enable-pthreads --enable-version3 --enable-avresample --cc<span class="token operator">=</span>clang --host-cflags<span class="token operator">=</span> --host-ldflags<span class="token operator">=</span> --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libbluray --enable-libdav1d --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libspeex --enable-libsoxr --enable-videotoolbox --disable-libjack --disable-indev<span class="token operator">=</span>jack
  libavutil      <span class="token number">56</span>. <span class="token number">51.100</span> / <span class="token number">56</span>. <span class="token number">51.100</span>
  libavcodec     <span class="token number">58</span>. <span class="token number">91.100</span> / <span class="token number">58</span>. <span class="token number">91.100</span>
  libavformat    <span class="token number">58</span>. <span class="token number">45.100</span> / <span class="token number">58</span>. <span class="token number">45.100</span>
  libavdevice    <span class="token number">58</span>. <span class="token number">10.100</span> / <span class="token number">58</span>. <span class="token number">10.100</span>
  libavfilter     <span class="token number">7</span>. <span class="token number">85.100</span> /  <span class="token number">7</span>. <span class="token number">85.100</span>
  libavresample   <span class="token number">4</span>.  <span class="token number">0</span>.  <span class="token number">0</span> /  <span class="token number">4</span>.  <span class="token number">0</span>.  <span class="token number">0</span>
  libswscale      <span class="token number">5</span>.  <span class="token number">7.100</span> /  <span class="token number">5</span>.  <span class="token number">7.100</span>
  libswresample   <span class="token number">3</span>.  <span class="token number">7.100</span> /  <span class="token number">3</span>.  <span class="token number">7.100</span>
  libpostproc    <span class="token number">55</span>.  <span class="token number">7.100</span> / <span class="token number">55</span>.  <span class="token number">7.100</span>
<span class="token punctuation">{</span>
Input <span class="token comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from '/Users/lizhen/Downloads/mask.mp4':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2avc1mp41
    encoder         <span class="token builtin class-name">:</span> Lavf57.41.100
  Duration: 00:06:19.39, start: <span class="token number">0.000000</span>, bitrate: <span class="token number">142</span> kb/s（码率）
    Stream <span class="token comment">#0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 640x360 [SAR 1:1 DAR 16:9], 113 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
    Stream <span class="token comment">#0:1(und): Audio: aac (HE-AAC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 24 kb/s (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
    <span class="token string">&quot;streams&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;index&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;codec_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;h264&quot;</span>,
            <span class="token string">&quot;codec_long_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10&quot;</span>,
            <span class="token string">&quot;profile&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;High&quot;</span>,
            <span class="token string">&quot;codec_type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;video&quot;</span>,
            <span class="token string">&quot;codec_time_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1/50&quot;</span>,
            <span class="token string">&quot;codec_tag_string&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;avc1&quot;</span>,
            <span class="token string">&quot;codec_tag&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x31637661&quot;</span>,
            <span class="token string">&quot;width&quot;</span><span class="token builtin class-name">:</span> <span class="token number">640</span>,
            <span class="token string">&quot;height&quot;</span><span class="token builtin class-name">:</span> <span class="token number">360</span>,
            <span class="token string">&quot;coded_width&quot;</span><span class="token builtin class-name">:</span> <span class="token number">640</span>,
            <span class="token string">&quot;coded_height&quot;</span><span class="token builtin class-name">:</span> <span class="token number">368</span>,
            <span class="token string">&quot;closed_captions&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;has_b_frames&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;sample_aspect_ratio&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1:1&quot;</span>,
            <span class="token string">&quot;display_aspect_ratio&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;16:9&quot;</span>,
            <span class="token string">&quot;pix_fmt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;yuv420p&quot;</span>,
            <span class="token string">&quot;level&quot;</span><span class="token builtin class-name">:</span> <span class="token number">30</span>,
            <span class="token string">&quot;chroma_location&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;left&quot;</span>,
            <span class="token string">&quot;refs&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;is_avc&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;nal_length_size&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;4&quot;</span>,
            <span class="token string">&quot;r_frame_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;25/1&quot;</span>,
            <span class="token string">&quot;avg_frame_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;25/1&quot;</span>,
            <span class="token string">&quot;time_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1/12800&quot;</span>,
            <span class="token string">&quot;start_pts&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;start_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.000000&quot;</span>,
            <span class="token string">&quot;duration_ts&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4855808</span>,
            <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;379.360000&quot;</span>,
            <span class="token string">&quot;bit_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;113664&quot;</span>,
            <span class="token string">&quot;bits_per_raw_sample&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8&quot;</span>,
            <span class="token string">&quot;nb_frames&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;9484&quot;</span>,
            <span class="token string">&quot;disposition&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;default&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
                <span class="token string">&quot;dub&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;original&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;comment&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;lyrics&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;karaoke&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;forced&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;hearing_impaired&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;visual_impaired&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;clean_effects&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;attached_pic&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;timed_thumbnails&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;tags&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;language&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;und&quot;</span>,
                <span class="token string">&quot;handler_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;VideoHandler&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;index&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;codec_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;aac&quot;</span>,
            <span class="token string">&quot;codec_long_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;AAC (Advanced Audio Coding)&quot;</span>,
            <span class="token string">&quot;profile&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;HE-AAC&quot;</span>,
            <span class="token string">&quot;codec_type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;audio&quot;</span>,
            <span class="token string">&quot;codec_time_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1/44100&quot;</span>,
            <span class="token string">&quot;codec_tag_string&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mp4a&quot;</span>,
            <span class="token string">&quot;codec_tag&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x6134706d&quot;</span>,
            <span class="token string">&quot;sample_fmt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;fltp&quot;</span>,
            <span class="token string">&quot;sample_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;44100&quot;</span>,
            <span class="token string">&quot;channels&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">&quot;channel_layout&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;stereo&quot;</span>,
            <span class="token string">&quot;bits_per_sample&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;r_frame_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0/0&quot;</span>,
            <span class="token string">&quot;avg_frame_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0/0&quot;</span>,
            <span class="token string">&quot;time_base&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1/44100&quot;</span>,
            <span class="token string">&quot;start_pts&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;start_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.000000&quot;</span>,
            <span class="token string">&quot;duration_ts&quot;</span><span class="token builtin class-name">:</span> <span class="token number">16726028</span>,
            <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;379.275011&quot;</span>,
            <span class="token string">&quot;bit_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;24001&quot;</span>,
            <span class="token string">&quot;max_bit_rate&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;24001&quot;</span>,
            <span class="token string">&quot;nb_frames&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8170&quot;</span>,
            <span class="token string">&quot;disposition&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;default&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
                <span class="token string">&quot;dub&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;original&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;comment&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;lyrics&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;karaoke&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;forced&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;hearing_impaired&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;visual_impaired&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;clean_effects&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;attached_pic&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
                <span class="token string">&quot;timed_thumbnails&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;tags&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;language&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;und&quot;</span>,
                <span class="token string">&quot;handler_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;SoundHandler&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br></div></div><h2 id="_4、名词解释"><a href="#_4、名词解释" class="header-anchor">#</a> 4、名词解释</h2> <h3 id="_1-视频"><a href="#_1-视频" class="header-anchor">#</a> （1）视频</h3> <ul><li><p>帧率：帧率对视频质量的影响远远大于分辨率和QP。</p></li> <li><p>分辨率：就是帧大小每一帧就是一副图像。640*480分辨率的视频，建议视频的码率设置在700以上，音频采样率44100就行了。一个音频编码率为128Kbps，视频编码率为800Kbps的文件，其总编码率为928Kbps，意思是经过编码后的数据每秒钟需要用928K比特来表示。</p></li> <li><p>QP：量化参数，反映了空间细节压缩情况。值越小，量化越精细，图像质量越高，产生的码流也越长。</p></li> <li><p>性能：</p></li> <li><p>码率：数据传输时单位时间传送的数据位数，一般我们用的单位是kbps即千位每秒。 通俗一点的理解就是取样率，单位时间内取样率越大，精度就越高，处理出来的文件就越接近原始文件。</p></li> <li><p>抗性：</p></li> <li><p>时延：是网络传输中的一个重要指标，测量了数据从一个端点到另外一个端点所需的时间。一般我们用毫秒作为其单位。通常我们也把延迟叫做延时，但是延时有时还会表示数据包发送端到接受端的往返时间。这个往返时间我们可以通过网络监控工具测量，测量数据包的发送时间点和接受到确认的时间点，两者之差就是延时。单向时间就是延迟。</p></li> <li><p>抖动：由于数据包的大小，网络路由的路径选择等众多因素，我们无法保证数据包的延迟时间是一致的，数据包和数据包延迟的差异我们称为抖动。也就是说因为数据包的延时值忽大忽小的现象我们称为是抖动。</p></li> <li><p>卡顿：</p></li> <li><p>音画同步：</p></li> <li><p>YUV视频格式（Android中常用的YUV420格式）：一般的视频采集芯片输出的码流一般都是 YUV 格式数据流，后续视频处理也是对 YUV 数据流进行编码和解析。</p> <ul><li>YUV444：4个像素里的数据有4个Y、4个U、4个V，未丢弃任何数据。</li> <li>YUV422：4个像素里的数据有4个Y、2个U、2个V。采集方式为 奇数像素丢弃V，偶数像素丢弃U。</li> <li>YUV420：为横向、纵向同时丢弃数据的采样方式。
<ul><li>采样方式：偶数像素丢弃UV，在此基础上，奇数行进一步丢弃V，偶数行进一步丢弃U。</li></ul></li> <li>播放YUV：ffplay -video_size 1080x2220 mini_yuvj420p_1080_2220.yuv</li> <li>mp4转YUV：ffmpeg -i mp4_file yuv_file</li> <li>mp4修改分辨率：ffmpeg -i clean_mp4 -vf scale=1080:1024 denoised_mp4 -hide_banner</li> <li>VMAF比较两个视频： python run_vmaf.py yuv420p 1080 2220 demo.yuv  demo.yuv  --out-fmt json</li></ul></li></ul> <h3 id="_2-音频参数-参考资料"><a href="#_2-音频参数-参考资料" class="header-anchor">#</a> （2）音频参数（<a href="https://www.cnblogs.com/hzl6255/p/8245578.html" target="_blank" rel="noopener noreferrer">参考资料<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ）</h3> <ul><li>采样频率(Sample Rate)：也称采样率, 是指录音设备在单位时间内对声音信号的采样数或样本数, 单位为Hz(赫兹), 采样频率越高能表现的频率范围就越大。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>一些常用音频采样率如下:
8kHz        - 电话所用采样率
22.05kHz - 无线电广播所用采样率
44.1kHz   - 音频CD, 也常用于 MPEG-1 音频(VCD, SVCD, MP3)所用采样率
48kHz      - miniDV、数字电视、DVD、DAT、电影和专业音频所用的数字声音所用采样率
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>采样位数(Bit Depth, Sample Format, Sample Size, Sample Width), 也称位深度, 是指采集卡在采集和播放声音文件时所使用数字声音信号的二进制位数, 或者说是每个采样样本所包含的位数, 通常有8 bit、16 bit。</li> <li>声道数(Channel), 是指采集卡在采集时使用声道数, 分为单声道(Mono)和双声道/立体声(Stereo)</li> <li>比特率(Bit Rate), 也称位率, 指每秒传送的比特(bit)数, 单位为bps(Bit Per Second), 比特率越高, 传送数据速度越快. 声音中的比特率是指将模拟声音信号转换成数字声音信号后, 单位时间内的二进制数据量。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>其计算公式为: 比特率 = 采样频率 * 采样位数 * 声道数
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/skills/others/pixel-shuaji.html" class="prev">
        pixel刷机指南
      </a></span> <!----></p></div>  <!----></main></div><div class="global-ui"><div></div><!----></div></div>
    <script src="/assets/js/app.25bd28d3.js" defer></script><script src="/assets/js/41.97257184.js" defer></script><script src="/assets/js/2.f52b2b3c.js" defer></script><script src="/assets/js/12.51543684.js" defer></script>
  </body>
</html>
