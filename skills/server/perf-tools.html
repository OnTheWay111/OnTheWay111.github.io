<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>服务端性能测试-工具篇 | 在路上的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <link rel="icon" href="/image/favicon.ico">
    <script>
        var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?64ae7cd356095ffe37f635a2b38d97c9";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
            })();
        </script>
    <meta name="description" content="寻找普通人的自由之路">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.653dd393.css" as="style"><link rel="preload" href="/assets/js/app.25bd28d3.js" as="script"><link rel="preload" href="/assets/js/41.97257184.js" as="script"><link rel="preload" href="/assets/js/2.f52b2b3c.js" as="script"><link rel="preload" href="/assets/js/6.bde00a3d.js" as="script"><link rel="prefetch" href="/assets/js/10.11042c24.js"><link rel="prefetch" href="/assets/js/11.f7dfcce2.js"><link rel="prefetch" href="/assets/js/12.51543684.js"><link rel="prefetch" href="/assets/js/13.bc21eaa0.js"><link rel="prefetch" href="/assets/js/14.b1348eac.js"><link rel="prefetch" href="/assets/js/15.ab05aca9.js"><link rel="prefetch" href="/assets/js/16.e71d09fd.js"><link rel="prefetch" href="/assets/js/17.642edada.js"><link rel="prefetch" href="/assets/js/18.07da16b4.js"><link rel="prefetch" href="/assets/js/19.f77734ce.js"><link rel="prefetch" href="/assets/js/20.3fa78d5c.js"><link rel="prefetch" href="/assets/js/21.f38a0ec4.js"><link rel="prefetch" href="/assets/js/22.e2a2f4fb.js"><link rel="prefetch" href="/assets/js/23.e99e466a.js"><link rel="prefetch" href="/assets/js/24.5c51c760.js"><link rel="prefetch" href="/assets/js/25.5197e8da.js"><link rel="prefetch" href="/assets/js/26.11058d88.js"><link rel="prefetch" href="/assets/js/27.322696be.js"><link rel="prefetch" href="/assets/js/28.953d911f.js"><link rel="prefetch" href="/assets/js/29.0309dcea.js"><link rel="prefetch" href="/assets/js/3.88adff4e.js"><link rel="prefetch" href="/assets/js/30.a459af8c.js"><link rel="prefetch" href="/assets/js/31.bc400b07.js"><link rel="prefetch" href="/assets/js/32.100f1f9b.js"><link rel="prefetch" href="/assets/js/33.561f5277.js"><link rel="prefetch" href="/assets/js/34.faabc755.js"><link rel="prefetch" href="/assets/js/35.798439ec.js"><link rel="prefetch" href="/assets/js/36.33da635f.js"><link rel="prefetch" href="/assets/js/37.16ff3375.js"><link rel="prefetch" href="/assets/js/38.dc5ce753.js"><link rel="prefetch" href="/assets/js/39.38583c95.js"><link rel="prefetch" href="/assets/js/4.873423c6.js"><link rel="prefetch" href="/assets/js/40.9521c28e.js"><link rel="prefetch" href="/assets/js/42.3085dc98.js"><link rel="prefetch" href="/assets/js/43.3c5f78b6.js"><link rel="prefetch" href="/assets/js/44.6b076331.js"><link rel="prefetch" href="/assets/js/45.d867c131.js"><link rel="prefetch" href="/assets/js/46.82103be9.js"><link rel="prefetch" href="/assets/js/47.9528b816.js"><link rel="prefetch" href="/assets/js/48.7830ec96.js"><link rel="prefetch" href="/assets/js/49.bb805b53.js"><link rel="prefetch" href="/assets/js/5.c597efbb.js"><link rel="prefetch" href="/assets/js/50.27946a8d.js"><link rel="prefetch" href="/assets/js/51.dc21e9ff.js"><link rel="prefetch" href="/assets/js/52.573492e5.js"><link rel="prefetch" href="/assets/js/53.9182f9b1.js"><link rel="prefetch" href="/assets/js/54.1378c4b7.js"><link rel="prefetch" href="/assets/js/55.13ded052.js"><link rel="prefetch" href="/assets/js/56.f161dcba.js"><link rel="prefetch" href="/assets/js/57.30e038f3.js"><link rel="prefetch" href="/assets/js/58.d3a80123.js"><link rel="prefetch" href="/assets/js/59.6d89429b.js"><link rel="prefetch" href="/assets/js/60.1a58b6e3.js"><link rel="prefetch" href="/assets/js/61.a50bcccb.js"><link rel="prefetch" href="/assets/js/62.9245285c.js"><link rel="prefetch" href="/assets/js/63.e5938f85.js"><link rel="prefetch" href="/assets/js/64.adeb539c.js"><link rel="prefetch" href="/assets/js/65.d29bf20f.js"><link rel="prefetch" href="/assets/js/7.e33295de.js"><link rel="prefetch" href="/assets/js/8.dfc92f84.js"><link rel="prefetch" href="/assets/js/9.0ed184de.js">
    <link rel="stylesheet" href="/assets/css/0.styles.653dd393.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="在路上的博客" class="logo"> <span class="site-name can-hide">在路上的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="感悟" class="dropdown-title"><span class="title">感悟</span> <span class="arrow down"></span></button> <button type="button" aria-label="感悟" class="mobile-dropdown-title"><span class="title">感悟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meaning/find-job-value/" class="nav-link">
  如何寻找自己的职业价值观
</a></li><li class="dropdown-item"><!----> <a href="/meaning/code-for-life-meaning/" class="nav-link">
  编程是赋予普通人的超能力
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HttpRunner V3.X
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/HttpRunner3DocsForCN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.httprunner.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Android
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/android/android-fluency-quality-manage/" class="nav-link">
  流畅度评估及卡顿优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-power-consumption/" class="nav-link">
  后台耗电分析及优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-https-capture/" class="nav-link">
  https抓包指南
</a></li></ul></li><li class="dropdown-item"><h4>
          服务端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/server/interface-test-guide/" class="nav-link">
  服务端接口测试指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-getting-start/" class="nav-link">
  服务端性能测试-入门指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-tools/" class="nav-link">
  服务端性能测试-工具篇
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/others/test-audio-video/" class="nav-link">
  实时音视频质量评估方案
</a></li><li class="dropdown-subitem"><a href="/skills/others/good-tools/" class="nav-link">
  好工具推荐
</a></li><li class="dropdown-subitem"><a href="/skills/others/clean-macBook-diskSpace/" class="nav-link">
  如何释放MacBook上的磁盘空间
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="生活" class="mobile-dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          孕产检育儿
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/pregnantBirth/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  孕产检
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/life/Baby/" class="nav-link">
  育婴笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          北京房
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJHouse/" class="nav-link">
  北京购房指南
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/buyHouseInBeiJing/" class="nav-link">
  2018北京购房回顾
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/analyzeHouse/" class="nav-link">
  目标房产对比分析
</a></li></ul></li><li class="dropdown-item"><h4>
          北京车
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJCar/" class="nav-link">
  北京新能源车上牌流程
</a></li></ul></li><li class="dropdown-item"><h4>
          北京医
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJhospital/china-hospital-rank/" class="nav-link">
  2019北京医院科室排名
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="财务" class="dropdown-title"><span class="title">财务</span> <span class="arrow down"></span></button> <button type="button" aria-label="财务" class="mobile-dropdown-title"><span class="title">财务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          保险
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          财务规划
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          理财
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/travel/" class="nav-link">
  旅行
</a></div><div class="nav-item"><a href="/liuyan/" class="nav-link">
  留言板
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  AboutMe
</a></div> <a href="https://github.com/OnTheWay111/OnTheWay111.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="感悟" class="dropdown-title"><span class="title">感悟</span> <span class="arrow down"></span></button> <button type="button" aria-label="感悟" class="mobile-dropdown-title"><span class="title">感悟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/meaning/find-job-value/" class="nav-link">
  如何寻找自己的职业价值观
</a></li><li class="dropdown-item"><!----> <a href="/meaning/code-for-life-meaning/" class="nav-link">
  编程是赋予普通人的超能力
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HttpRunner V3.X
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/HttpRunner3DocsForCN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.httprunner.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Android
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/android/android-fluency-quality-manage/" class="nav-link">
  流畅度评估及卡顿优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-power-consumption/" class="nav-link">
  后台耗电分析及优化
</a></li><li class="dropdown-subitem"><a href="/skills/android/Android-https-capture/" class="nav-link">
  https抓包指南
</a></li></ul></li><li class="dropdown-item"><h4>
          服务端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/server/interface-test-guide/" class="nav-link">
  服务端接口测试指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-getting-start/" class="nav-link">
  服务端性能测试-入门指南
</a></li><li class="dropdown-subitem"><a href="/skills/server/perf-tools/" class="nav-link">
  服务端性能测试-工具篇
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skills/others/test-audio-video/" class="nav-link">
  实时音视频质量评估方案
</a></li><li class="dropdown-subitem"><a href="/skills/others/good-tools/" class="nav-link">
  好工具推荐
</a></li><li class="dropdown-subitem"><a href="/skills/others/clean-macBook-diskSpace/" class="nav-link">
  如何释放MacBook上的磁盘空间
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow down"></span></button> <button type="button" aria-label="生活" class="mobile-dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          孕产检育儿
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ontheway.cool/pregnantBirth/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  孕产检
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/life/Baby/" class="nav-link">
  育婴笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          北京房
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJHouse/" class="nav-link">
  北京购房指南
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/buyHouseInBeiJing/" class="nav-link">
  2018北京购房回顾
</a></li><li class="dropdown-subitem"><a href="/life/BJHouse/analyzeHouse/" class="nav-link">
  目标房产对比分析
</a></li></ul></li><li class="dropdown-item"><h4>
          北京车
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJCar/" class="nav-link">
  北京新能源车上牌流程
</a></li></ul></li><li class="dropdown-item"><h4>
          北京医
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/life/BJhospital/china-hospital-rank/" class="nav-link">
  2019北京医院科室排名
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="财务" class="dropdown-title"><span class="title">财务</span> <span class="arrow down"></span></button> <button type="button" aria-label="财务" class="mobile-dropdown-title"><span class="title">财务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          保险
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          财务规划
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li><li class="dropdown-item"><h4>
          理财
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  待更新
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/travel/" class="nav-link">
  旅行
</a></div><div class="nav-item"><a href="/liuyan/" class="nav-link">
  留言板
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  AboutMe
</a></div> <a href="https://github.com/OnTheWay111/OnTheWay111.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Server</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skills/server/interface-test-guide.html" class="sidebar-link">服务端接口测试指南</a></li><li><a href="/skills/server/perf-getting-start.html" class="sidebar-link">服务端性能测试入门指南</a></li><li><a href="/skills/server/perf-tools.html" aria-current="page" class="active sidebar-link">服务端性能测试-工具篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_1、选择合适的工具" class="sidebar-link">1、选择合适的工具</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_2、了解jmeter" class="sidebar-link">2、了解Jmeter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_1-安装" class="sidebar-link">（1）安装</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_2-线程组" class="sidebar-link">（2）线程组</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_3-测试http服务" class="sidebar-link">（3）测试Http服务</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_4-测试mysql" class="sidebar-link">（4）测试Mysql</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_5-事务定义" class="sidebar-link">（5）事务定义</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_6-逻辑控制器" class="sidebar-link">（6）逻辑控制器</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_7-调试插件" class="sidebar-link">（7）调试插件</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_8-关注的性能指标" class="sidebar-link">（8）关注的性能指标</a></li></ul></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_3、jmeter优化建议" class="sidebar-link">3、Jmeter优化建议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_1-调整jmeter堆栈内存大小" class="sidebar-link">（1）调整JMeter堆栈内存大小</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_2-64位操作系统内存配置大小" class="sidebar-link">（2）64位操作系统内存配置大小</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_3-垃圾回收机制" class="sidebar-link">（3）垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_4-使用非gui模式" class="sidebar-link">（4）使用非GUI模式</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_5-升级jmeter与java版本" class="sidebar-link">（5）升级JMeter与JAVA版本</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_6-压测过程中禁用监听器" class="sidebar-link">（6）压测过程中禁用监听器</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_7-谨慎使用断言" class="sidebar-link">（7）谨慎使用断言</a></li><li class="sidebar-sub-header"><a href="/skills/server/perf-tools.html#_8-利用分布式" class="sidebar-link">（8）利用分布式</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="/assets/img/jmeter_logo.7bb2977b.png" alt=""></p> <blockquote><p>不依赖工具，但要重视工具。压测工具是压测理论的产物，学习好工具，可以帮助更加理解性能测试的基础知识。</p></blockquote> <p>性能测试，简而言之，就是模拟大量用户同时访问，测试服务是否满足性能要求。</p> <blockquote><p>示例脚本见：链接: https://pan.baidu.com/s/17naPnSvQXj5NIDu9HEFO0A  密码: sb4e</p></blockquote> <h2 id="_1、选择合适的工具"><a href="#_1、选择合适的工具" class="header-anchor">#</a> 1、选择合适的工具</h2> <p>选择工具之前，首先了解一下，我们平常做性能测试，对性能工具的需求有哪些：</p> <ul><li>经常测试的对象：Http(s)协议、<a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener noreferrer">WebSocket<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (网络通信协议)、TCP/IP(测试Mysql、Redis)</li> <li>扩展性好：支持分布式部署</li> <li>使用成本低：文档多、支持UI界面操作、插件全</li></ul> <p>下面，我们从工具功能和性能两个角度，来横向对比。</p> <p><img src="/assets/img/perfToolsFunctions1.839e23e2.png" alt="性能测试工具功能对比"></p> <p><img src="/assets/img/perfToolsPerformance.f05de551.png" alt="性能测试工具性能对比"></p> <p>综上，考虑到免费、开源、支持多协议、分布式扩展、脚本开发方式、平台支持和性能表现，选择Jmeter作为我们主要的性能测试工具。</p> <h2 id="_2、了解jmeter"><a href="#_2、了解jmeter" class="header-anchor">#</a> 2、了解Jmeter</h2> <h3 id="_1-安装"><a href="#_1-安装" class="header-anchor">#</a> （1）安装</h3> <ul><li>Jdk安装</li> <li><a href="https://jmeter.apache.org/download_jmeter.cgi" target="_blank" rel="noopener noreferrer">Jmeter.zip下载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>解压后，运行Jmeter.bat或Jmeter.sh即可</li></ul> <p><img src="/assets/img/install.179b8452.png" alt="安装"></p> <ul><li>启动后界面</li></ul> <p><img src="/assets/img/qidongUI.3d94df80.png" alt="启动后界面"></p> <p>这里的线程组，可以理解为一个用户模型。</p> <h3 id="_2-线程组"><a href="#_2-线程组" class="header-anchor">#</a> （2）线程组</h3> <p>线程组可以理解为用户模型。</p> <p><img src="/assets/img/threadGroup.7e2385d5.png" alt="线程组"></p> <p>线程组控制面板包括：</p> <ul><li>线程组名称</li> <li>线程数（正在测试的用户数）</li> <li>加速(Ramp-up)时间：从0增加到线程数的时间</li> <li>循环计数：循环测试的次数</li> <li>调度器：
<ul><li>持续时间：表示脚本持续运行的时间，以秒为单位，比如如果你要让用户持续不断登录1个小时，你可以在文本框中填写3600。这样就会在1小时内循环执行。</li> <li>启动延迟：表示脚本延迟启动的时间，在点击启动后，如果启动时间已经到达，但是还没有到启动延迟的时间，那么，启动延迟将会覆盖启动时间，等到启动延迟的时间到达后，再运行系统。</li></ul></li></ul> <h3 id="_3-测试http服务"><a href="#_3-测试http服务" class="header-anchor">#</a> （3）测试Http服务</h3> <p>下面以开发一个Http脚本为例，来熟悉性能测试中常用的功能和插件。</p> <h4 id="a-http脚本开发"><a href="#a-http脚本开发" class="header-anchor">#</a> A. http脚本开发</h4> <p>如图中所示，界面中一目了然，协议、域名、Method、Url、参数分别填到对应位置即可。</p> <p><img src="/assets/img/img_11.69244095.png" alt="HTTP请求"></p> <p>如果请求需要header，可以添加Http信息头管理器，添加header信息。</p> <p><img src="/assets/img/img_12.92b75144.png" alt="HTTP请求头"></p> <h4 id="b-参数化"><a href="#b-参数化" class="header-anchor">#</a> B. 参数化</h4> <p>总所周知，性能测试接口必须进行参数化，如果是固定数据，可能导致所有请求全部访问了缓存，这样就无法评估服务真实性能。</p> <p>Jmeter参数化有3种常用方法，用户自定义变量、csv数据文件设置、BeanShell预处理变量。</p> <h5 id="用户自定义变量"><a href="#用户自定义变量" class="header-anchor">#</a> 用户自定义变量</h5> <p>可以设置一些常量变量。
<img src="/assets/img/userCustomizeParams.d5020ec4.png" alt="用户自定义变量"></p> <h5 id="csv数据文件设置"><a href="#csv数据文件设置" class="header-anchor">#</a> csv数据文件设置</h5> <p>可设置参数化数量较多常量。
<img src="/assets/img/csvParams.055f3f85.png" alt="csv数据文件设置"></p> <h5 id="beanshell预处理变量"><a href="#beanshell预处理变量" class="header-anchor">#</a> BeanShell预处理变量</h5> <p>当有些变量需要加解密处理时，就需要BeanShell预处理。</p> <p>注意：Jmeter通过vars.put(&quot;变量名&quot;, &quot;变量值&quot;)来声明Jmeter变量。</p> <p><img src="/assets/img/beanShellParams.12a9334b.png" alt="BeanShell预处理变量"></p> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>net<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Base64</span><span class="token punctuation">;</span> 

<span class="token comment">// base64加密</span>
<span class="token class-name">String</span> source <span class="token operator">=</span> <span class="token string">&quot;哈利波特&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encodedBytes <span class="token operator">=</span> <span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">encodeBase64</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">String</span> encoded <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>encodedBytes<span class="token punctuation">)</span><span class="token punctuation">;</span> 
vars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b64&quot;</span><span class="token punctuation">,</span> encoded<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="c-断言"><a href="#c-断言" class="header-anchor">#</a> C. 断言</h4> <p>断言是用于检查Http 请求Response是否满足预期的手段。</p> <p>Jmeter常用的断言方法有3种：响应断言、Json断言、Beanshell断言。</p> <h5 id="响应断言"><a href="#响应断言" class="header-anchor">#</a> 响应断言</h5> <p>如图所示，可以直接判断Response body中是否包含期望字符串，方式有包含、匹配、相等...</p> <p><img src="/assets/img/assertResponse.c0119459.png" alt="响应断言"></p> <h5 id="json断言"><a href="#json断言" class="header-anchor">#</a> JSON断言</h5> <p>当Response Body为Json格式时，可以通过Json断言插件，精确断言响应内容。</p> <p><img src="/assets/img/assertJson.cc6a83ed.png" alt="JSON断言"></p> <h5 id="beanshell断言"><a href="#beanshell断言" class="header-anchor">#</a> BeanShell断言</h5> <blockquote><p>参考：<a href="https://www.jianshu.com/p/39baf70137b9" target="_blank" rel="noopener noreferrer">JMeter中使用BeanShell断言详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>BeanShell是jmeter的解释型脚本语言，和java语法大同小异，并有自己的内置对象和方法可供使用。</p> <p>vars:操作jmeter的变量：vars.get(String parmStr) 获取jmeter的变量值；vars.put(String key,String value) 把数据存到Jmeter变量中；</p> <p>prev:获取sample返回的信息，prev.getResponseDataAsString() 获取响应信息；prev.getResponseCode() 获取响应状态码；</p> <p><img src="data:image/png;base64,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" alt="BeanShell断言关键词"></p> <p><img src="/assets/img/assertBeanShell1.030c615c.png" alt="BeanShell断言示例"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> response <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">getResponseDataAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//获取响应数据</span>
<span class="token class-name">JSONObject</span> responseJson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//转为JSON对象</span>

<span class="token comment">//从Json中提取值</span>
<span class="token class-name">Integer</span> code <span class="token operator">=</span> responseJson<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">String</span> result <span class="token operator">=</span> responseJson<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;====================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;响应code字段：&quot;</span> <span class="token operator">+</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;响应result字段：&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;====================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> exceptCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

<span class="token comment">// 判断并断言</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>code <span class="token operator">==</span> exceptCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Failure</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	<span class="token class-name">Failure</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token class-name">FailureMessage</span><span class="token operator">=</span><span class="token string">&quot;响应code字段: 期望值：&quot;</span> <span class="token operator">+</span> exceptCode <span class="token operator">+</span>  <span class="token string">&quot;，实际值: &quot;</span> <span class="token operator">+</span> code<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_4-测试mysql"><a href="#_4-测试mysql" class="header-anchor">#</a> （4）测试Mysql</h3> <blockquote><p>参考：<a href="https://zhuanlan.zhihu.com/p/121747788" target="_blank" rel="noopener noreferrer">JMeter进行MySQL接口性能测试实战：数据库服务器测试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="配置mysql连接-jdbc-connection-configuration"><a href="#配置mysql连接-jdbc-connection-configuration" class="header-anchor">#</a> 配置mysql连接（JDBC Connection Configuration）</h4> <p><img src="/assets/img/JDBCConnectionConfiguration.43bb0998.png" alt="img_1.png"></p> <p>需要设置一些重要的字段，这些字段将决定数据库和JMeter之间的正确连接。 这些字段包括：</p> <ul><li><p>上半部分：</p> <ul><li>ariables Name for created pool：变量名，在JDBC Request的时候会用同样的名字确定是连接的那个库和进行的配置</li> <li>MaxNumber of Connection：数据库最大链接数，通常该值设置为0</li> <li>Max wait：最大的等待时间 ms毫秒，超出后会抛一个错误</li> <li>Time Between Eviction Runs (ms)：数据库空闲连接的回收时间间隔</li> <li>Auto Commit：自动提交。有三个选项，true、false、编辑，选择true后， 每条sql语句就是一个事务，执行结束后会自动提交；false、编辑则不会提交，需要自己手动提交</li> <li>Transaction Isolation： 数据库事务隔离的级别设置
<ul><li>TRANSACTION_NONE：不支持的事务</li> <li>TRANSACTION_READ_UNCOMMITTED ：事务读取未提交内容</li> <li>TRANSACTION_READ_COMMITTED： 事务读取已提交读内容</li> <li>TRANSACTION_SERIALIZABLE： 事务序列化（一个事务读时，其他事务只能读，不能写）</li> <li>DEFAULT：默认</li> <li>TRANSACTION_REPEATABLE_READ ：事务重复读（一个事务修改数据对另一个事务不会造成影响）</li></ul></li></ul></li> <li><p>下半部分：</p> <ul><li>绑定到池的变量名称 - 它唯一地标识配置。 JDBC Sampler将进一步使用此名称来标识要使用的配置。这里将其命名为test。</li> <li>数据库URL：jdbc:mysql://127.0.0.1:3306/AutoTest?useSSL=true</li> <li>JDBC驱动程序类 - com.mysql.jdbc.Driver。</li> <li>用户名 - root。</li> <li>密码 - root用户的密码。</li> <li>其他字段保持不变。</li></ul></li></ul> <h4 id="jdbc-request"><a href="#jdbc-request" class="header-anchor">#</a> JDBC Request</h4> <p><img src="/assets/img/jdbcRequest1.1dbe76ad.png" alt="JDBC Request: 可直接输入SQL"></p> <p><img src="/assets/img/jdbcRequest2.png.9d6399a9.png" alt="查看结果树: 检查Sql语言执行结果"></p> <h3 id="_5-事务定义"><a href="#_5-事务定义" class="header-anchor">#</a> （5）事务定义</h3> <p>将多个接口定义为事务，以便<strong>从业务的角度，来评估性能。</strong></p> <p>比如，完整的手机验证码登录流程，一般包含：（1）获取手机验证码；（2）用手机号和验证码进行登录；</p> <p>当定义为登录事务时，性能测试的时候，我们就可以更宏观的关注服务端对登录事务的性能评估，而不是只关注到接口层。
<img src="/assets/img/shiwu.38e5bed4.png" alt="事务控制器"></p> <h3 id="_6-逻辑控制器"><a href="#_6-逻辑控制器" class="header-anchor">#</a> （6）逻辑控制器</h3> <p>当面对复杂业务时，比如涉及到逻辑判断的，就需要添加逻辑控制器。</p> <p><img src="/assets/img/img_1.628976eb.png" alt="逻辑控制器"></p> <p>比如，if控制器：</p> <blockquote><p>参考：<a href="https://blog.csdn.net/haiou24/article/details/83545442" target="_blank" rel="noopener noreferrer">Jmeter中if控制器的使用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>利用接口1的返回信息，进行逻辑判断，决定是否执行接口2。比如根据用户状态信息，判断用户是否是VIP用户，如果不是，则不能购买某商品。</p> <p><img src="/assets/img/img_2.7cdd14b4.png" alt="if控制器"></p> <h3 id="_7-调试插件"><a href="#_7-调试插件" class="header-anchor">#</a> （7）调试插件</h3> <h4 id="查看结果树"><a href="#查看结果树" class="header-anchor">#</a> 查看结果树</h4> <p>调试脚本时，可以利用<code>查看结果树</code>插件来查看request和response信息，保障脚本的正确。
<img src="/assets/img/img_3.bee000be.png" alt="查看结果树"></p> <h4 id="jmeter执行log"><a href="#jmeter执行log" class="header-anchor">#</a> Jmeter执行Log</h4> <p>一般是编写BeanShell或引入jar包时，脚本调试需要看log，定位脚本开发的问题。</p> <p><img src="/assets/img/img_4.87395337.png" alt="Jmeter执行log"></p> <h3 id="_8-关注的性能指标"><a href="#_8-关注的性能指标" class="header-anchor">#</a> （8）关注的性能指标</h3> <ul><li>QPS(TPS)：每秒请求数</li> <li>成功率：请求成功率</li> <li>95%响应时间：</li> <li>99%响应时间：</li> <li>响应时间和QPS变化曲线：主要看性能测试期间，服务是否稳定。比如Java后端，在性能测试期间，不允许出现Full GC。</li></ul> <p><img src="/assets/img/img_5.279080a9.png" alt="Response Time"></p> <p><img src="/assets/img/img_6.c49688b5.png" alt="Transactions per Second"></p> <h2 id="_3、jmeter优化建议"><a href="#_3、jmeter优化建议" class="header-anchor">#</a> 3、Jmeter优化建议</h2> <blockquote><p>参考：<a href="https://blog.csdn.net/minxihou/article/details/96720120" target="_blank" rel="noopener noreferrer">Jmeter性能调优建议<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="_1-调整jmeter堆栈内存大小"><a href="#_1-调整jmeter堆栈内存大小" class="header-anchor">#</a> （1）调整JMeter堆栈内存大小</h3> <p>在默认情况下现在JMeter5版本开辟的内存空间为1G，这也是它的最大内存。在实际测试的过程中，默认JMeter内存配置情况下，开启3W个线程来处理http的静态访问求基本上就达到了极限。再往上加的可能会报OOM的错误。</p> <p>有两个JAVA的参数直接影响着JMeter能够使用的系统内存为多少，一个是“Xms”（代表初始化堆栈内存的大小），一个是“Xmx（代表最大内存池可以分配的大小）”。如果你的测试机器只跑JMeter一个JAVA应用程序，那么建议Xmx和Xms保持一致。Xmx和Xms保持一致是为了减少JVM内存伸缩，减少维护伸缩带来的成本。</p> <h3 id="_2-64位操作系统内存配置大小"><a href="#_2-64位操作系统内存配置大小" class="header-anchor">#</a> （2）64位操作系统内存配置大小</h3> <p>JMeter内存分配尽量在32位的系统上避免分配4G以上空间，在64位的操作系统尽量避免分配32G以上的空间。</p> <h3 id="_3-垃圾回收机制"><a href="#_3-垃圾回收机制" class="header-anchor">#</a> （3）垃圾回收机制</h3> <p>参考：<a href="https://static.app.yinxiang.com/embedded-web/profile/#/join?guid=9281a89c-19d9-43e4-90a3-6326deb6bdcb&amp;channel=copylink&amp;shardId=s70&amp;ownerId=14616526" target="_blank" rel="noopener noreferrer">【JVM】hotSpot VM 7种垃圾收集器：主要特点 应用场景 设置参数 基本运行原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>在JAVA中有大概五类的垃圾回收机制。分为Serial收集器，ParNew收集器，Parallel收集器，Cms收集器，G1收集器。在垃圾回收机制上应该尽量减少垃圾回收器带来的内存和CPU的性能损耗。当然这些并不会对开启线程数有着决定性的影响，属于细节性的微调。这里比较推荐使用G1垃圾回收器。G1垃圾回收器的特点如下：</p> <ul><li>支持很大的堆，高吞吐量</li> <li>支持多CPU垃圾回收</li> <li>在主线程暂停时，使用并行回收</li> <li>在主线程运行时，使用并发回收。</li></ul> <h3 id="_4-使用非gui模式"><a href="#_4-使用非gui模式" class="header-anchor">#</a> （4）使用非GUI模式</h3> <p>GUI在一定程度上冻结并消耗资源，这样会更容易产生一些不准确的性能测试结果。
对于JMeter来说GUI存在的意义主要在于可视化输出结果，编写你的测试计划和debug你的测试计划。
jmeter命令执行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>jmeter -n -t /usr/local/apache-jmeter-4.0/my_threads/sfwl.jmx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <ul><li><p>-h 帮助 -&gt; 打印出有用的信息并退出</p></li> <li><p>-n 非 GUI 模式 -&gt; 在非 GUI 模式下运行 JMeter</p></li> <li><p>-t 测试文件 -&gt; 要运行的 JMeter 测试脚本文件</p></li> <li><p>-l 日志文件 -&gt; 记录结果的文件</p></li> <li><p>-r 远程执行 -&gt; 启动远程服务</p></li> <li><p>-H 代理主机 -&gt; 设置 JMeter 使用的代理主机</p></li> <li><p>-P 代理端口 -&gt; 设置 JMeter 使用的代理主机的端口号</p></li></ul> <p>注意：如果未设置Jmeter的环境变量则在执行脚本的时候需要检查当前目录是否是jmeter的bin目录下</p> <h3 id="_5-升级jmeter与java版本"><a href="#_5-升级jmeter与java版本" class="header-anchor">#</a> （5）升级JMeter与JAVA版本</h3> <p>尽可能使用最新版本的JMeter来进行性能测试，新版本的JMeter会使用新版的JRE和JDK，这样会一定程度上带来性能的提升。</p> <h3 id="_6-压测过程中禁用监听器"><a href="#_6-压测过程中禁用监听器" class="header-anchor">#</a> （6）压测过程中禁用监听器</h3> <p>实行压测的过程中尽可能少使用监听器，最好别用。启用监听器会导致额外的内存开销，这会消耗测试中为数不多的内存资源。比较明智的做法是使用非GUI模式，将测试结果全部保存到“.jtl”的文件中。测试完成之后将jtl格式的结果文件导入的JMeter中再进行结果分析。</p> <h3 id="_7-谨慎使用断言"><a href="#_7-谨慎使用断言" class="header-anchor">#</a> （7）谨慎使用断言</h3> <p>添加到测试计划的每个测试元素都将被处理。这样会占用较多的CPU和内存。这种资源的占用适用于所有的断言，尤其是比较断言。比较断言消耗大量资源和内存，所以在压力测试时慎重的使用断言和断言的数量。</p> <h3 id="_8-利用分布式"><a href="#_8-利用分布式" class="header-anchor">#</a> （8）利用分布式</h3> <p>参考：<a href="https://zhuanlan.zhihu.com/p/77243079" target="_blank" rel="noopener noreferrer">压测必经之路，解读JMeter分布式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>分布式部署Jmeter，利用压力机集群进行压测，提升Jmeter的测试能力。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/skills/server/perf-getting-start.html" class="prev">
        服务端性能测试入门指南
      </a></span> <!----></p></div>  <!----></main></div><div class="global-ui"><div></div><!----></div></div>
    <script src="/assets/js/app.25bd28d3.js" defer></script><script src="/assets/js/41.97257184.js" defer></script><script src="/assets/js/2.f52b2b3c.js" defer></script><script src="/assets/js/6.bde00a3d.js" defer></script>
  </body>
</html>
